var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
const GameLaunch_1 = require("./script/GameLaunch");
const GameUI_1 = require("./script/GameUI");
/*
* 游戏初始化配置;
*/
class GameConfig {
    constructor() { }
    static init() {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameLaunch.ts", GameLaunch_1.default);
        reg("script/GameUI.ts", GameUI_1.default);
    }
}
GameConfig.width = 720;
GameConfig.height = 1280;
GameConfig.scaleMode = "fixedwidth";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "GameMain.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = true;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;
exports.default = GameConfig;
GameConfig.init();

},{"./script/GameLaunch":3,"./script/GameUI":4}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameConfig_1 = require("./GameConfig");
class Main {
    constructor() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    onVersionLoaded() {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    }
    onConfigLoaded() {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    }
}
//激活启动类
new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Manager_1 = require("./manager/Manager");
const ResPath_1 = require("./respath/ResPath");
class GameLaunch extends Laya.Script {
    constructor() {
        super();
        this._showLog = true;
        this._managerList = [];
    }
    onAwake() {
        this._managerList.push(new Manager_1.default());
        console.log('[GameLaunch.ts]---->初始化');
        this.initScene3D();
        this.test();
        this.load3DScene();
    }
    test() {
        Manager_1.default.UI.open(ResPath_1.ResPath.uiPath.UI_MainUI, 1, 1);
        Manager_1.default.Res.getMonsterConfig('monster1.json').then((res) => {
            console.log('----json', res[1].name);
        }).catch(() => {
            console.log("fail");
        });
    }
    initScene3D() {
        // //添加3D场景
        // let scene = new Laya.Scene3D();
        // Laya.stage.addChild(scene);
        // // var scene: Laya.Scene3D = Laya.stage.addChild(new Laya.Scene3D()) as Laya.Scene3D;
        // //添加照相机
        // var camera: Laya.Camera = (scene.addChild(new Laya.Camera(0, 0.1, 100))) as Laya.Camera;
        // camera.transform.translate(new Laya.Vector3(0, 10, 3));
        // camera.transform.rotate(new Laya.Vector3(-60, 0, 0), true, false);
        // //添加方向光
        // var directionLight: Laya.DirectionLight = scene.addChild(new Laya.DirectionLight()) as Laya.DirectionLight;
        // directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);
        // directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        // //添加自定义模型
        // var box: Laya.MeshSprite3D = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1))) as Laya.MeshSprite3D;
        // box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);
        // var material: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();
        // Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function(tex:Laya.Texture2D) {
        // 		material.albedoTexture = tex;
        // }));
        // box.meshRenderer.material = material;
        // Laya.timer.loop(16, this, () => {
        //     box.transform.rotate(new Laya.Vector3(0, 120 * 0.016, 0), false, false);
        //     // box.transform.translate(new Laya.Vector3(0, 0, -0.5 * 0.016), false);
        // });
        // let isDown = false;
        // let x = 0;
        // let y = 0;
        // Laya.stage.on(Laya.Event.MOUSE_DOWN, this, () => {
        //     isDown = true;
        //     x = Laya.MouseManager.instance.mouseX;
        //     y = Laya.MouseManager.instance.mouseY;
        //     Manager.Sound.play(ResPath.audioPath.btnClick);
        // });
        // Laya.stage.on(Laya.Event.MOUSE_MOVE, this, () => {
        //     if(!isDown) return;
        //     let dtx = Laya.MouseManager.instance.mouseX - x;
        //     let dty = Laya.MouseManager.instance.mouseY - y;
        //     dtx = dtx > 100 ? 100 : dtx;
        //     dtx = dtx < -100 ? -100 : dtx;
        //     dty = dty > 100 ? 100 : dty;
        //     dty = dty < -100 ? -100 : dty;
        //     let v3 = new Laya.Vector3(dtx * 0.016 * 0.1, 0, dty * 0.016 * 0.1);
        //     // Laya.Vector3.Clamp(v3, new Laya.Vector3(-100, -100, -100), new Laya.Vector3(100, 100, 100), v3);
        //     box.transform.translate(v3, false);
        // });
        // Laya.stage.on(Laya.Event.MOUSE_UP, this, () => {
        //     isDown = false;
        // });
    }
    load3DScene() {
        Laya.Scene3D.load(ResPath_1.ResPath.scene3DPath.GameScene.path, Laya.Handler.create(this, (scene) => {
            Laya.stage.addChild(scene);
            let camera = scene.getChildByName('Main Camera');
            let plane = scene.getChildByName('Plane');
            let rolePosT = plane.getChildByName('role');
            console.log("** scene3d load: **", scene, rolePosT);
            this._camera = camera;
            Laya.loader.create(ResPath_1.ResPath.scene3DPath.Role.path, Laya.Handler.create(this, (role) => {
                // Laya.stage.addChild(role);
                let vr = new Laya.Vector3();
                rolePosT.transform.getForward(vr);
                scene.addChild(role);
                role.transform.translate(new Laya.Vector3(rolePosT.transform.localPositionX, rolePosT.transform.localPositionY, rolePosT.transform.localPositionZ));
                // console.log(vr, role);
                role.transform.localScaleX = 10;
                role.transform.localScaleY = 10;
                role.transform.localScaleZ = 10;
                rolePosT.destroy();
                // role.transform.rotate(new Laya.Vector3(0, 90, 0));
                // role.transform.rotate(new Laya.Vector3(0, 90, 0), false, false);
                this._anim = role.getChildAt(0).getComponent(Laya.Animator);
                this._role = role;
                // anim.addState();
                this._anim.play('run');
                let s = true;
                role.transform.localRotationEulerY = 90;
                Laya.stage.on(Laya.Event.MOUSE_DOWN, this, () => {
                    // this._anim.play('atk', 0, 0);
                    // role.transform.rotate(new Laya.Vector3(0, -90, 0), false, false);
                    // role.transform.localRotationEulerY = -90;
                    role.transform.localRotationEulerY = 0;
                });
                Laya.stage.on(Laya.Event.MOUSE_UP, this, () => {
                    // this._anim.play('run', 0, 0);
                    // role.transform.rotate(new Laya.Vector3(0, 90, 0), false, false);
                    role.transform.localRotationEulerY = 90;
                });
                // let cam = new Laya.Camera();
                // cam.transform.translate(new Laya.Vector3(rolePosT.transform.localPositionX, rolePosT.transform.localPositionY ,rolePosT.transform.localPositionZ));
                // scene.addChild(cam);
            }));
        }));
    }
    onDisable() {
        for (let i = 0; i < this._managerList.length; ++i) {
            this._managerList[i].onDestroy();
        }
        this._managerList = [];
    }
    showLog() {
        if (!this._showLog) {
            console.log = () => { };
            console.error = () => { };
        }
    }
    onUpdate() {
        if (this._role) {
            let forward = new Laya.Vector3();
            this._role.transform.getForward(forward);
            // this._role.transform.translate(new Laya.Vector3(-1 * 0.016 * 0.01, forward.y * 0.016 * 0.01, -forward.z * 0.016 * 0.01));
            this._role.transform.translate(new Laya.Vector3(-forward.x * 0.016 * 0.1, 0, -forward.z * 0.016 * 0.1), false);
            if (this._camera) {
                let cForWard = new Laya.Vector3();
                this._camera._transform.getForward(cForWard);
                let rTrans = this._role._transform;
                let pos = new Laya.Vector3(rTrans.position.x + (cForWard.x * -5), rTrans.position.y + (cForWard.y * -5), rTrans.position.z + (cForWard.z * -5));
                this._camera._transform.position = pos;
                // console.log(forward, pos);
            }
        }
    }
}
exports.default = GameLaunch;

},{"./manager/Manager":5,"./respath/ResPath":12}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("./../ui/layaMaxUI");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
class GameUI extends layaMaxUI_1.ui.test.TestSceneUI {
    constructor() {
        super();
        //添加3D场景
        var scene = Laya.stage.addChild(new Laya.Scene3D());
        //添加照相机
        var camera = (scene.addChild(new Laya.Camera(0, 0.1, 100)));
        camera.transform.translate(new Laya.Vector3(0, 3, 3));
        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);
        //添加方向光
        var directionLight = scene.addChild(new Laya.DirectionLight());
        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);
        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        //添加自定义模型
        var box = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1)));
        box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);
        var material = new Laya.BlinnPhongMaterial();
        Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function (tex) {
            material.albedoTexture = tex;
        }));
        box.meshRenderer.material = material;
    }
}
exports.default = GameUI;

},{"./../ui/layaMaxUI":18}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ModuleManager_1 = require("./modulemanager/ModuleManager");
const SoundManager_1 = require("./soundmanager/SoundManager");
const UIManager_1 = require("./uimanager/UIManager");
const ResManager_1 = require("./resmanager/ResManager");
const AssetsManager_1 = require("./resmanager/AssetsManager");
class Manager {
    constructor() {
        // Manager.Module;
        // Manager.UI;
        // Manager.Assets;
        // Manager.Sound;
        // Manager.Res;
    }
    static get Assets() {
        if (!this._assetsManager) {
            this._assetsManager = new AssetsManager_1.default();
        }
        return this._assetsManager;
    }
    static get Module() {
        if (!this._moduleManager) {
            this._moduleManager = new ModuleManager_1.default();
        }
        return this._moduleManager;
    }
    static get Sound() {
        if (!this._soundManager) {
            this._soundManager = new SoundManager_1.default();
        }
        return this._soundManager;
    }
    static get UI() {
        if (!this._uiManager) {
            this._uiManager = new UIManager_1.default();
        }
        return this._uiManager;
    }
    static get Res() {
        if (!this._resManager) {
            this._resManager = new ResManager_1.default();
        }
        return this._resManager;
    }
}
/** 资源加载管理 */
Manager._assetsManager = null;
/** 玩法模块加载管理 */
Manager._moduleManager = null;
/** 音频加载管理 */
Manager._soundManager = null;
/** UI管理 */
Manager._uiManager = null;
/** 资源获取管理 */
Manager._resManager = null;
exports.default = Manager;

},{"./modulemanager/ModuleManager":7,"./resmanager/AssetsManager":8,"./resmanager/ResManager":9,"./soundmanager/SoundManager":10,"./uimanager/UIManager":11}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class BaseManager {
}
exports.default = BaseManager;

},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
class ModuleManager extends BaseManager_1.default {
    constructor() {
        super();
        this.moduleTable = [];
        this.moduleTable = this.initModule();
    }
    initModule() {
        return [
        // SceneCtrl.getInstance(),
        // MainUICtrl.getInstance(),
        ];
    }
    onDestroy() {
        for (let i in this.moduleTable) {
            let m = this.moduleTable[i];
            m.offTarget && m.offTarget(m);
        }
        this.moduleTable = [];
    }
}
exports.default = ModuleManager;

},{"../base/BaseManager":6}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
class AssetsManager extends BaseManager_1.default {
    constructor() {
        super(...arguments);
        this._assetsList = {};
    }
    /** 加载预制体 */
    loadPrefab(path) {
        return this.loadAssetsAsync(path);
    }
    // /** 加载帧图片 */
    // loadSprite(path: string): Promise<cc.SpriteFrame> {
    //     return this.loadAssetsAsync(path, cc.SpriteFrame);
    // }
    // /** 加载图集 */
    // loadSpriteAtlas(path: string): Promise<cc.SpriteAtlas> {
    //     return this.loadAssetsAsync(path, cc.SpriteAtlas);
    // }
    // /** 加载音频 */
    // loadAudioClip(path: string): Promise<cc.AudioClip>{
    //     return this.loadAssetsAsync(path, cc.AudioClip);
    // }
    /** 加载配置 */
    loadConfig(path) {
        return this.loadAssetsAsync(path);
    }
    loadAssetsAsync(path, type) {
        return new Promise((resolve, reject) => {
            let _self = this;
            if (_self._assetsList[path]) {
                resolve(_self._assetsList[path]);
            }
            else {
                Laya.loader.load(path, Laya.Handler.create(this, (res) => {
                    console.log('资源加载---->', res);
                    if (!res) {
                        reject();
                        return;
                    }
                    _self._assetsList[path] = res;
                    resolve(res);
                }));
            }
        });
    }
    releaseRes(resPath) {
        // cc.loader.releaseRes(resPath);
        this._assetsList[resPath] = null;
    }
    onDestroy() {
        // for(let path in this._assetsList){
        //     this.releaseRes(path);
        // }
        // this._assetsList = {};
    }
}
exports.default = AssetsManager;

},{"../base/BaseManager":6}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
const Manager_1 = require("../Manager");
class ResManager extends BaseManager_1.default {
    constructor() {
        super(...arguments);
        // //------------------------------------------------------------
        this._assetMgr = Manager_1.default.Assets;
    }
    //------------------------------------------------------------
    /** 获取预制体, 并生成实例 */
    getPrefab(path) {
        return this._getPrefab(path);
    }
    // /** 获取音频 */
    // getAudio(path: string): Promise<cc.AudioClip> {
    //     return this._getAudio(path);
    // }
    /** 获取resources/textures/draw/目录下的资源 */
    getComp(name) {
        let path = "comp/" + name + ".png";
        // let atlasName = "0-draw"; //没有图集则为空
        return path;
    }
    /** 获取配置 */
    getMonsterConfig(name) {
        let path = "config/auto/";
        return this._getConfig(path + name);
    }
    // /** 获取图片散图资源，如果获取失败，则从图集里获取 */
    // private _getSprite(path: string, name: string, atlasName?: string): Promise<cc.SpriteFrame> {
    //     return new Promise((resolve, reject) => {
    //         /** 获取散图 */
    //         this._assetMgr.loadSprite(path + name).then((spFrame: cc.SpriteFrame) => {
    //             resolve(spFrame);
    //         }).catch(() => {
    //             /** 没散图则从图集获取 */
    //             this._getSpriteFrameFromAtlas(path + atlasName, name).then((spFrame: cc.SpriteFrame) => {
    //                 resolve(spFrame);
    //             }).catch(() => {
    //                 console.error("[ResManager.ts]----->asset is not exist:", path + name, "--->atlas are not:", atlasName);
    //                 // this._assetMgr.releaseRes(path + atlasName);
    //                 reject();
    //             });
    //         });
    //     });   
    // }
    // private _getSpriteFrameFromAtlas(path: string, name: string): Promise<cc.SpriteFrame> {
    //     return new Promise((resolve, reject) => {
    //         this._assetMgr.loadSpriteAtlas(path).then((res: cc.SpriteAtlas) => {
    //             let spFrame = res.getSpriteFrame(name);
    //             if(spFrame){
    //                 resolve(spFrame);
    //             }else{
    //                 reject();
    //             }
    //         }).catch(() => {
    //             reject();
    //         });
    //     });
    // }
    /** 获取预制体 */
    _getPrefab(path) {
        return new Promise((resolve, reject) => {
            this._assetMgr.loadPrefab(path).then((res) => {
                if (res) {
                    resolve(res.create());
                }
                else {
                    reject();
                }
            }).catch(() => {
                reject();
            });
        });
    }
    _getConfig(path) {
        return new Promise((resolve, reject) => {
            this._assetMgr.loadConfig(path).then((res) => {
                if (res) {
                    resolve(res);
                }
                else {
                    reject();
                }
            }).catch(() => {
                reject();
            });
        });
    }
    // private _getAudio(path: string): Promise<cc.AudioClip> {
    //     return new Promise((resolve, reject) => {
    //         this._assetMgr.loadAudioClip(path).then((audio: cc.AudioClip) => {
    //             if(audio){
    //                 resolve(audio);
    //             }else{
    //                 reject();
    //             }
    //         }).catch(() => {
    //             reject();
    //         });
    //     });
    // }
    onDestroy() {
    }
}
exports.default = ResManager;

},{"../Manager":5,"../base/BaseManager":6}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
class SoundManager extends BaseManager_1.default {
    constructor() {
        super(...arguments);
        this._current = 0;
        this._loadList = {};
    }
    play(path, loopNum = 1, volume = 1) {
        // Manager.Res.getAudio(path).then((audio: cc.AudioClip) => {
        //     this._current = cc.audioEngine.play(audio, loop, volume);
        //     this._loadList[path] = audio;
        // });
        Laya.SoundManager.playSound(path, loopNum, Laya.Handler.create(this, () => {
        }), 0);
    }
    // pauseCurrent(){
    //     cc.audioEngine.pause(this._current);
    // }
    // pauseAll(){
    //     cc.audioEngine.pauseAll();
    // }
    // stopCurrent(){
    //     cc.audioEngine.stop(this._current);
    // }
    // stopAll(){
    //     cc.audioEngine.stopAll();
    // }
    // resumeCurrent(){
    //     cc.audioEngine.resume(this._current);
    // }
    // resumeAll(){
    //     cc.audioEngine.resumeAll();
    // }
    onDestroy() {
        this._loadList = {};
    }
}
exports.default = SoundManager;

},{"../base/BaseManager":6}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
const Manager_1 = require("../Manager");
class viewElement {
}
class UIManager extends BaseManager_1.default {
    constructor() {
        super();
        this._views = {};
        this._root = new Laya.Sprite();
        let w = Laya.stage.designWidth;
        let h = Laya.stage.designHeight;
        this._root.width = w;
        this._root.height = h;
        this._root.x = 0;
        this._root.y = 0;
        this._root.zOrder = 1;
        let wid = this._root.addComponent(Laya.Widget);
        console.log("UIManager----->LayaStage designW: ", w, " designH: ", h);
        wid.centerX = w / 2;
        wid.centerY = h / 2;
        Laya.stage.addChild(this._root);
    }
    open(resPath, zIndex, openEffect) {
        return new Promise((resolve) => {
            let view = this._views[resPath];
            if (!view) {
                view = new viewElement();
            }
            let openSuc = (viewNode) => {
                viewNode.zOrder = zIndex || 0;
            };
            if (!view.node) {
                this._createView(resPath).then((viewObj) => {
                    openSuc(viewObj);
                    resolve(viewObj);
                });
            }
            else {
                view.node.visible = true;
                openSuc(view.node);
                resolve(view.node);
            }
        });
    }
    getView(resPath) {
        return new Promise((resolve) => {
            let view = this._views[resPath];
            if (!view) {
                this._createView(resPath).then((view) => {
                    resolve(view.instance);
                });
            }
            else {
                resolve(view.instance);
            }
        });
    }
    /**
     * 关闭ui
     * @param resPath 路径
     * @param isDelete 是否销毁
     */
    close(resPath, isDelete = false) {
        let view = this._views[resPath];
        console.log(view, resPath);
        if (view && view.node) {
            if (isDelete) {
                view.node.destroy();
                this._views[resPath] = null;
            }
            else {
                view.node.visible = false;
            }
        }
    }
    _createView(resPath) {
        return new Promise((resolve) => {
            let view = this._views[resPath];
            if (!view) {
                view = new viewElement();
                Manager_1.default.Res.getPrefab(resPath).then((viewObj) => {
                    let names = resPath.split("/");
                    this._root.addChild(viewObj);
                    view.instance = viewObj.getComponent(names[names.length - 1]);
                    view.node = viewObj;
                    this._views[resPath] = view;
                    resolve(viewObj);
                });
            }
            else {
                resolve(view.node);
            }
        });
    }
    onDestroy() {
        this._views = {};
    }
}
exports.default = UIManager;

},{"../Manager":5,"../base/BaseManager":6}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const UIPath_1 = require("./uipath/UIPath");
const ConfigPath_1 = require("./configpath/ConfigPath");
const AudioPath_1 = require("./audiopath/AudioPath");
const EntityPath_1 = require("./entitypath/EntityPath");
const Scene3DConfig_1 = require("./configpath/Scene3DConfig");
/** 资源路径读取(root: resources) */
var ResPath;
(function (ResPath) {
    ResPath.uiPath = UIPath_1.UIPath;
    ResPath.entityPath = EntityPath_1.EntityPath;
    ResPath.configPath = ConfigPath_1.ConfigPath;
    ResPath.audioPath = AudioPath_1.AudioPath;
    ResPath.scene3DPath = Scene3DConfig_1.Scene3DConfig;
})(ResPath = exports.ResPath || (exports.ResPath = {}));

},{"./audiopath/AudioPath":13,"./configpath/ConfigPath":14,"./configpath/Scene3DConfig":15,"./entitypath/EntityPath":16,"./uipath/UIPath":17}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AudioPath = {
    btnClick: "sound/btn_click.mp3"
};

},{}],14:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ConfigPath = {
    Auto_Monster1: "config/auto/monster1.json",
};

},{}],15:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Scene3DConfig = {
    GameScene: {
        path: "3d/LayaExport/LayaScene_MainScene/Conventional/MainScene.ls",
        zOrder: 1,
    },
    Role: {
        path: "3d/LayaExport/LayaScene_model/Conventional/model.lh",
    }
};

},{}],16:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/** 实体路径 */
exports.EntityPath = {
    /** 怪物 */
    Entity_Monster: "prefabs/fight/monster/Monster",
};

},{}],17:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/** UI路径 */
exports.UIPath = {
    /** 场景UI */
    UI_Scene: "prefabs/scene/SceneView",
    /** 主界面 */
    UI_MainUI: "prefabs/UI/menu/MenuView.prefab",
};

},{}],18:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var test;
    (function (test) {
        class TestSceneUI extends Scene {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.loadScene("test/TestScene");
            }
        }
        test.TestSceneUI = TestSceneUI;
        REG("ui.test.TestSceneUI", TestSceneUI);
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3ByaXZhdGUvdmFyL2ZvbGRlcnMvdzQvZDIxbm03dG4xX3NjMndwMTV5Zno2ODdtMDAwMGduL1QvQXBwVHJhbnNsb2NhdGlvbi85RjY0NURFQi1CMDRELTRDQkYtQUMzMS04RUM0MDgxNDE3MDcvZC9MYXlhQWlySURFX2JldGEuYXBwL0NvbnRlbnRzL1Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvc2NyaXB0L0dhbWVMYXVuY2gudHMiLCJzcmMvc2NyaXB0L0dhbWVVSS50cyIsInNyYy9zY3JpcHQvbWFuYWdlci9NYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9tYW5hZ2VyL2Jhc2UvQmFzZU1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L21hbmFnZXIvbW9kdWxlbWFuYWdlci9Nb2R1bGVNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9tYW5hZ2VyL3Jlc21hbmFnZXIvQXNzZXRzTWFuYWdlci50cyIsInNyYy9zY3JpcHQvbWFuYWdlci9yZXNtYW5hZ2VyL1Jlc01hbmFnZXIudHMiLCJzcmMvc2NyaXB0L21hbmFnZXIvc291bmRtYW5hZ2VyL1NvdW5kTWFuYWdlci50cyIsInNyYy9zY3JpcHQvbWFuYWdlci91aW1hbmFnZXIvVUlNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9yZXNwYXRoL1Jlc1BhdGgudHMiLCJzcmMvc2NyaXB0L3Jlc3BhdGgvYXVkaW9wYXRoL0F1ZGlvUGF0aC50cyIsInNyYy9zY3JpcHQvcmVzcGF0aC9jb25maWdwYXRoL0NvbmZpZ1BhdGgudHMiLCJzcmMvc2NyaXB0L3Jlc3BhdGgvY29uZmlncGF0aC9TY2VuZTNEQ29uZmlnLnRzIiwic3JjL3NjcmlwdC9yZXNwYXRoL2VudGl0eXBhdGgvRW50aXR5UGF0aC50cyIsInNyYy9zY3JpcHQvcmVzcGF0aC91aXBhdGgvVUlQYXRoLnRzIiwic3JjL3VpL2xheWFN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QUNuQyxVQUFVO0lBQ1YsU0FBUyxFQUFFLGlDQUFpQztDQUMvQyxDQUFBOzs7OztBQ0hELElBQU8sS0FBSyxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7QUFDeEIsSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7QUFDN0MsSUFBYyxFQUFFLENBU2Y7QUFURCxXQUFjLEVBQUU7SUFBQyxJQUFBLElBQUksQ0FTcEI7SUFUZ0IsV0FBQSxJQUFJO1FBQ2pCLGlCQUF5QixTQUFRLEtBQUs7WUFDbEMsZ0JBQWUsS0FBSyxFQUFFLENBQUEsQ0FBQSxDQUFDO1lBQ3ZCLGNBQWM7Z0JBQ1YsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUN2QixJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDckMsQ0FBQztTQUNKO1FBTlksZ0JBQVcsY0FNdkIsQ0FBQTtRQUNELEdBQUcsQ0FBQyxxQkFBcUIsRUFBQyxXQUFXLENBQUMsQ0FBQztJQUMzQyxDQUFDLEVBVGdCLElBQUksR0FBSixPQUFJLEtBQUosT0FBSSxRQVNwQjtBQUFELENBQUMsRUFUYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFTZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVMYXVuY2ggZnJvbSBcIi4vc2NyaXB0L0dhbWVMYXVuY2hcIlxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTcyMDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTEyODA7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZpeGVkd2lkdGhcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cIkdhbWVNYWluLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPXRydWU7XHJcbiAgICBzdGF0aWMgcGh5c2ljc0RlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgZXhwb3J0U2NlbmVUb0pzb246Ym9vbGVhbj10cnVlO1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBzdGF0aWMgaW5pdCgpe1xyXG4gICAgICAgIHZhciByZWc6IEZ1bmN0aW9uID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG4gICAgICAgIHJlZyhcInNjcmlwdC9HYW1lTGF1bmNoLnRzXCIsR2FtZUxhdW5jaCk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9HYW1lVUkudHNcIixHYW1lVUkpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsImltcG9ydCBNYW5hZ2VyIGZyb20gXCIuL21hbmFnZXIvTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBSZXNQYXRoIH0gZnJvbSBcIi4vcmVzcGF0aC9SZXNQYXRoXCI7XHJcbmltcG9ydCBSZXNNYW5hZ2VyIGZyb20gXCIuL21hbmFnZXIvcmVzbWFuYWdlci9SZXNNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lTGF1bmNoIGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgcHJpdmF0ZSBfc2hvd0xvZzogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBwcml2YXRlIF9tYW5hZ2VyTGlzdCA9IFtdO1xyXG4gICAgcHJpdmF0ZSBfYW5pbTogTGF5YS5BbmltYXRvcjtcclxuICAgIHByaXZhdGUgX3JvbGU6IExheWEuU3ByaXRlM0Q7XHJcbiAgICBwcml2YXRlIF9jYW1lcmE6IExheWEuQ2FtZXJhO1xyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuICAgIFxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIHRoaXMuX21hbmFnZXJMaXN0LnB1c2gobmV3IE1hbmFnZXIoKSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tHYW1lTGF1bmNoLnRzXS0tLS0+5Yid5aeL5YyWJyk7XHJcbiAgICAgICAgdGhpcy5pbml0U2NlbmUzRCgpO1xyXG4gICAgICAgIHRoaXMudGVzdCgpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQzRFNjZW5lKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGVzdCgpe1xyXG4gICAgICAgIE1hbmFnZXIuVUkub3BlbihSZXNQYXRoLnVpUGF0aC5VSV9NYWluVUksIDEsIDEpO1xyXG5cclxuICAgICAgICBNYW5hZ2VyLlJlcy5nZXRNb25zdGVyQ29uZmlnKCdtb25zdGVyMS5qc29uJykudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCctLS0tanNvbicsIHJlc1sxXS5uYW1lKTtcclxuICAgICAgICB9KS5jYXRjaCgoKT0+e1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImZhaWxcIilcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0U2NlbmUzRCgpe1xyXG4gICAgICAgIC8vIC8v5re75YqgM0TlnLrmma9cclxuICAgICAgICAvLyBsZXQgc2NlbmUgPSBuZXcgTGF5YS5TY2VuZTNEKCk7XHJcbiAgICAgICAgLy8gTGF5YS5zdGFnZS5hZGRDaGlsZChzY2VuZSk7XHJcbiAgICAgICAgLy8gLy8gdmFyIHNjZW5lOiBMYXlhLlNjZW5lM0QgPSBMYXlhLnN0YWdlLmFkZENoaWxkKG5ldyBMYXlhLlNjZW5lM0QoKSkgYXMgTGF5YS5TY2VuZTNEO1xyXG5cclxuICAgICAgICAvLyAvL+a3u+WKoOeFp+ebuOaculxyXG4gICAgICAgIC8vIHZhciBjYW1lcmE6IExheWEuQ2FtZXJhID0gKHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkNhbWVyYSgwLCAwLjEsIDEwMCkpKSBhcyBMYXlhLkNhbWVyYTtcclxuICAgICAgICAvLyBjYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDEwLCAzKSk7XHJcbiAgICAgICAgLy8gY2FtZXJhLnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygtNjAsIDAsIDApLCB0cnVlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIC8v5re75Yqg5pa55ZCR5YWJXHJcbiAgICAgICAgLy8gdmFyIGRpcmVjdGlvbkxpZ2h0OiBMYXlhLkRpcmVjdGlvbkxpZ2h0ID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuRGlyZWN0aW9uTGlnaHQoKSkgYXMgTGF5YS5EaXJlY3Rpb25MaWdodDtcclxuICAgICAgICAvLyBkaXJlY3Rpb25MaWdodC5jb2xvciA9IG5ldyBMYXlhLlZlY3RvcjMoMC42LCAwLjYsIDAuNik7XHJcbiAgICAgICAgLy8gZGlyZWN0aW9uTGlnaHQudHJhbnNmb3JtLndvcmxkTWF0cml4LnNldEZvcndhcmQobmV3IExheWEuVmVjdG9yMygxLCAtMSwgMCkpO1xyXG5cclxuICAgICAgICAvLyAvL+a3u+WKoOiHquWumuS5ieaooeWei1xyXG4gICAgICAgIC8vIHZhciBib3g6IExheWEuTWVzaFNwcml0ZTNEID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVCb3goMSwgMSwgMSkpKSBhcyBMYXlhLk1lc2hTcHJpdGUzRDtcclxuICAgICAgICAvLyBib3gudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDQ1LCAwKSwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICAvLyB2YXIgbWF0ZXJpYWw6IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsID0gbmV3IExheWEuQmxpbm5QaG9uZ01hdGVyaWFsKCk7XHJcblx0XHQvLyBMYXlhLlRleHR1cmUyRC5sb2FkKFwicmVzL2xheWFib3gucG5nXCIsIExheWEuSGFuZGxlci5jcmVhdGUobnVsbCwgZnVuY3Rpb24odGV4OkxheWEuVGV4dHVyZTJEKSB7XHJcblx0XHQvLyBcdFx0bWF0ZXJpYWwuYWxiZWRvVGV4dHVyZSA9IHRleDtcclxuXHRcdC8vIH0pKTtcclxuICAgICAgICAvLyBib3gubWVzaFJlbmRlcmVyLm1hdGVyaWFsID0gbWF0ZXJpYWw7XHJcbiAgICAgICAgLy8gTGF5YS50aW1lci5sb29wKDE2LCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGJveC50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgMTIwICogMC4wMTYsIDApLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgIC8vICAgICAvLyBib3gudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDAsIC0wLjUgKiAwLjAxNiksIGZhbHNlKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvLyBsZXQgaXNEb3duID0gZmFsc2U7XHJcbiAgICAgICAgLy8gbGV0IHggPSAwO1xyXG4gICAgICAgIC8vIGxldCB5ID0gMDtcclxuICAgICAgICAvLyBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTiwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBpc0Rvd24gPSB0cnVlO1xyXG4gICAgICAgIC8vICAgICB4ID0gTGF5YS5Nb3VzZU1hbmFnZXIuaW5zdGFuY2UubW91c2VYO1xyXG4gICAgICAgIC8vICAgICB5ID0gTGF5YS5Nb3VzZU1hbmFnZXIuaW5zdGFuY2UubW91c2VZO1xyXG4gICAgICAgIC8vICAgICBNYW5hZ2VyLlNvdW5kLnBsYXkoUmVzUGF0aC5hdWRpb1BhdGguYnRuQ2xpY2spO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9NT1ZFLCB0aGlzLCAoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGlmKCFpc0Rvd24pIHJldHVybjtcclxuICAgICAgICAvLyAgICAgbGV0IGR0eCA9IExheWEuTW91c2VNYW5hZ2VyLmluc3RhbmNlLm1vdXNlWCAtIHg7XHJcbiAgICAgICAgLy8gICAgIGxldCBkdHkgPSBMYXlhLk1vdXNlTWFuYWdlci5pbnN0YW5jZS5tb3VzZVkgLSB5O1xyXG4gICAgICAgIC8vICAgICBkdHggPSBkdHggPiAxMDAgPyAxMDAgOiBkdHg7XHJcbiAgICAgICAgLy8gICAgIGR0eCA9IGR0eCA8IC0xMDAgPyAtMTAwIDogZHR4O1xyXG4gICAgICAgIC8vICAgICBkdHkgPSBkdHkgPiAxMDAgPyAxMDAgOiBkdHk7XHJcbiAgICAgICAgLy8gICAgIGR0eSA9IGR0eSA8IC0xMDAgPyAtMTAwIDogZHR5O1xyXG4gICAgICAgIC8vICAgICBsZXQgdjMgPSBuZXcgTGF5YS5WZWN0b3IzKGR0eCAqIDAuMDE2ICogMC4xLCAwLCBkdHkgKiAwLjAxNiAqIDAuMSk7XHJcbiAgICAgICAgLy8gICAgIC8vIExheWEuVmVjdG9yMy5DbGFtcCh2MywgbmV3IExheWEuVmVjdG9yMygtMTAwLCAtMTAwLCAtMTAwKSwgbmV3IExheWEuVmVjdG9yMygxMDAsIDEwMCwgMTAwKSwgdjMpO1xyXG4gICAgICAgIC8vICAgICBib3gudHJhbnNmb3JtLnRyYW5zbGF0ZSh2MywgZmFsc2UpO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9VUCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBpc0Rvd24gPSBmYWxzZTtcclxuICAgICAgICAvLyB9KTtcclxuICAgIH1cclxuICAgIGxvYWQzRFNjZW5lKCl7XHJcbiAgICAgICAgTGF5YS5TY2VuZTNELmxvYWQoUmVzUGF0aC5zY2VuZTNEUGF0aC5HYW1lU2NlbmUucGF0aCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAoc2NlbmU6IExheWEuU3ByaXRlM0QpID0+IHtcclxuICAgICAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChzY2VuZSk7XHJcbiAgICAgICAgICAgIGxldCBjYW1lcmE6IExheWEuQ2FtZXJhID0gc2NlbmUuZ2V0Q2hpbGRCeU5hbWUoJ01haW4gQ2FtZXJhJykgYXMgTGF5YS5DYW1lcmE7XHJcbiAgICAgICAgICAgIGxldCBwbGFuZSA9IHNjZW5lLmdldENoaWxkQnlOYW1lKCdQbGFuZScpIGFzIExheWEuU3ByaXRlM0Q7XHJcbiAgICAgICAgICAgIGxldCByb2xlUG9zVCA9IHBsYW5lLmdldENoaWxkQnlOYW1lKCdyb2xlJykgYXMgTGF5YS5TcHJpdGUzRDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCIqKiBzY2VuZTNkIGxvYWQ6ICoqXCIsIHNjZW5lLCByb2xlUG9zVCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbWVyYSA9IGNhbWVyYTtcclxuICAgICAgICAgICAgTGF5YS5sb2FkZXIuY3JlYXRlKFJlc1BhdGguc2NlbmUzRFBhdGguUm9sZS5wYXRoLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIChyb2xlOiBMYXlhLlNwcml0ZTNEKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBMYXlhLnN0YWdlLmFkZENoaWxkKHJvbGUpO1xyXG4gICAgICAgICAgICAgICAgbGV0IHZyID0gbmV3IExheWEuVmVjdG9yMygpO1xyXG4gICAgICAgICAgICAgICAgcm9sZVBvc1QudHJhbnNmb3JtLmdldEZvcndhcmQodnIpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBzY2VuZS5hZGRDaGlsZChyb2xlKTtcclxuICAgICAgICAgICAgICAgIHJvbGUudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKHJvbGVQb3NULnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uWCwgcm9sZVBvc1QudHJhbnNmb3JtLmxvY2FsUG9zaXRpb25ZICxyb2xlUG9zVC50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvblopKTtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZyLCByb2xlKTtcclxuICAgICAgICAgICAgICAgIHJvbGUudHJhbnNmb3JtLmxvY2FsU2NhbGVYID0gMTA7XHJcbiAgICAgICAgICAgICAgICByb2xlLnRyYW5zZm9ybS5sb2NhbFNjYWxlWSA9IDEwO1xyXG4gICAgICAgICAgICAgICAgcm9sZS50cmFuc2Zvcm0ubG9jYWxTY2FsZVogPSAxMDtcclxuICAgICAgICAgICAgICAgIHJvbGVQb3NULmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIC8vIHJvbGUudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDkwLCAwKSk7XHJcbiAgICAgICAgICAgICAgICAvLyByb2xlLnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLCA5MCwgMCksIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmltID0gcm9sZS5nZXRDaGlsZEF0KDApLmdldENvbXBvbmVudChMYXlhLkFuaW1hdG9yKSBhcyBMYXlhLkFuaW1hdG9yO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcm9sZSA9IHJvbGU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIGFuaW0uYWRkU3RhdGUoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2FuaW0ucGxheSgncnVuJyk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByb2xlLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXJZID0gOTA7XHJcbiAgICAgICAgICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTiwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2FuaW0ucGxheSgnYXRrJywgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcm9sZS50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgLTkwLCAwKSwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyByb2xlLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uRXVsZXJZID0gLTkwO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvbGUudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlclkgPSAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5NT1VTRV9VUCwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuX2FuaW0ucGxheSgncnVuJywgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcm9sZS50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgOTAsIDApLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJvbGUudHJhbnNmb3JtLmxvY2FsUm90YXRpb25FdWxlclkgPSA5MDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyBsZXQgY2FtID0gbmV3IExheWEuQ2FtZXJhKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBjYW0udHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKHJvbGVQb3NULnRyYW5zZm9ybS5sb2NhbFBvc2l0aW9uWCwgcm9sZVBvc1QudHJhbnNmb3JtLmxvY2FsUG9zaXRpb25ZICxyb2xlUG9zVC50cmFuc2Zvcm0ubG9jYWxQb3NpdGlvblopKTtcclxuICAgICAgICAgICAgICAgIC8vIHNjZW5lLmFkZENoaWxkKGNhbSk7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLl9tYW5hZ2VyTGlzdC5sZW5ndGg7ICsraSl7XHJcbiAgICAgICAgICAgIHRoaXMuX21hbmFnZXJMaXN0W2ldLm9uRGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9tYW5hZ2VyTGlzdCA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHNob3dMb2coKXtcclxuICAgICAgICBpZighdGhpcy5fc2hvd0xvZyl7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nID0gKCkgPT4ge307XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IgPSAoKSA9PiB7fTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLl9yb2xlKXtcclxuICAgICAgICAgICAgbGV0IGZvcndhcmQgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3JvbGUudHJhbnNmb3JtLmdldEZvcndhcmQoZm9yd2FyZCk7XHJcbiAgICAgICAgICAgIC8vIHRoaXMuX3JvbGUudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKC0xICogMC4wMTYgKiAwLjAxLCBmb3J3YXJkLnkgKiAwLjAxNiAqIDAuMDEsIC1mb3J3YXJkLnogKiAwLjAxNiAqIDAuMDEpKTtcclxuICAgICAgICAgICAgdGhpcy5fcm9sZS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoLWZvcndhcmQueCAqIDAuMDE2ICogMC4xLCAwLCAtZm9yd2FyZC56ICogMC4wMTYgKiAwLjEpLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuX2NhbWVyYSl7XHJcbiAgICAgICAgICAgICAgICBsZXQgY0ZvcldhcmQgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jYW1lcmEuX3RyYW5zZm9ybS5nZXRGb3J3YXJkKGNGb3JXYXJkKTtcclxuICAgICAgICAgICAgICAgIGxldCByVHJhbnMgPSB0aGlzLl9yb2xlLl90cmFuc2Zvcm1cclxuICAgICAgICAgICAgICAgIGxldCBwb3MgPSBuZXcgTGF5YS5WZWN0b3IzKHJUcmFucy5wb3NpdGlvbi54ICsgKGNGb3JXYXJkLnggKiAtNSksIHJUcmFucy5wb3NpdGlvbi55ICsgKGNGb3JXYXJkLnkgKiAtNSksIHJUcmFucy5wb3NpdGlvbi56ICsgKGNGb3JXYXJkLnogKiAtNSkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2FtZXJhLl90cmFuc2Zvcm0ucG9zaXRpb24gPSBwb3M7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmb3J3YXJkLCBwb3MpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbi8qKlxyXG4gKiDmnKznpLrkvovph4fnlKjpnZ7ohJrmnKznmoTmlrnlvI/lrp7njrDvvIzogIzkvb/nlKjnu6fmib/pobXpnaLln7rnsbvvvIzlrp7njrDpobXpnaLpgLvovpHjgILlnKhJREXph4zpnaLorr7nva7lnLrmma/nmoRSdW50aW1l5bGe5oCn5Y2z5Y+v5ZKM5Zy65pmv6L+b6KGM5YWz6IGUXHJcbiAqIOebuOavlOiEmuacrOaWueW8j++8jOe7p+aJv+W8j+mhtemdouexu++8jOWPr+S7peebtOaOpeS9v+eUqOmhtemdouWumuS5ieeahOWxnuaAp++8iOmAmui/h0lEReWGhXZhcuWxnuaAp+WumuS5ie+8ie+8jOavlOWmgnRoaXMudGlwTGJsbO+8jHRoaXMuc2NvcmVMYmzvvIzlhbfmnInku6PnoIHmj5DnpLrmlYjmnpxcclxuICog5bu66K6u77ya5aaC5p6c5piv6aG16Z2i57qn55qE6YC76L6R77yM6ZyA6KaB6aKR57mB6K6/6Zeu6aG16Z2i5YaF5aSa5Liq5YWD57Sg77yM5L2/55So57un5om/5byP5YaZ5rOV77yM5aaC5p6c5piv54us56uL5bCP5qih5Z2X77yM5Yqf6IO95Y2V5LiA77yM5bu66K6u55So6ISa5pys5pa55byP5a6e546w77yM5q+U5aaC5a2Q5by56ISa5pys44CCXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyB1aS50ZXN0LlRlc3RTY2VuZVVJIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblx0XHRcclxuICAgICAgICAvL+a3u+WKoDNE5Zy65pmvXHJcbiAgICAgICAgdmFyIHNjZW5lOiBMYXlhLlNjZW5lM0QgPSBMYXlhLnN0YWdlLmFkZENoaWxkKG5ldyBMYXlhLlNjZW5lM0QoKSkgYXMgTGF5YS5TY2VuZTNEO1xyXG5cclxuICAgICAgICAvL+a3u+WKoOeFp+ebuOaculxyXG4gICAgICAgIHZhciBjYW1lcmE6IExheWEuQ2FtZXJhID0gKHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkNhbWVyYSgwLCAwLjEsIDEwMCkpKSBhcyBMYXlhLkNhbWVyYTtcclxuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDMsIDMpKTtcclxuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKC0zMCwgMCwgMCksIHRydWUsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy/mt7vliqDmlrnlkJHlhYlcclxuICAgICAgICB2YXIgZGlyZWN0aW9uTGlnaHQ6IExheWEuRGlyZWN0aW9uTGlnaHQgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5EaXJlY3Rpb25MaWdodCgpKSBhcyBMYXlhLkRpcmVjdGlvbkxpZ2h0O1xyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LmNvbG9yID0gbmV3IExheWEuVmVjdG9yMygwLjYsIDAuNiwgMC42KTtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0ud29ybGRNYXRyaXguc2V0Rm9yd2FyZChuZXcgTGF5YS5WZWN0b3IzKDEsIC0xLCAwKSk7XHJcblxyXG4gICAgICAgIC8v5re75Yqg6Ieq5a6a5LmJ5qih5Z6LXHJcbiAgICAgICAgdmFyIGJveDogTGF5YS5NZXNoU3ByaXRlM0QgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZUJveCgxLCAxLCAxKSkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIGJveC50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgNDUsIDApLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgIHZhciBtYXRlcmlhbDogTGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSBuZXcgTGF5YS5CbGlublBob25nTWF0ZXJpYWwoKTtcclxuXHRcdExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvbGF5YWJveC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLCBmdW5jdGlvbih0ZXg6TGF5YS5UZXh0dXJlMkQpIHtcclxuXHRcdFx0XHRtYXRlcmlhbC5hbGJlZG9UZXh0dXJlID0gdGV4O1xyXG5cdFx0fSkpO1xyXG4gICAgICAgIGJveC5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcclxuICAgIH1cclxufSIsImltcG9ydCBNb2R1bGVNYW5hZ2VyIGZyb20gXCIuL21vZHVsZW1hbmFnZXIvTW9kdWxlTWFuYWdlclwiO1xuaW1wb3J0IFNvdW5kTWFuYWdlciBmcm9tIFwiLi9zb3VuZG1hbmFnZXIvU291bmRNYW5hZ2VyXCI7XG5pbXBvcnQgVUlNYW5hZ2VyIGZyb20gXCIuL3VpbWFuYWdlci9VSU1hbmFnZXJcIjtcbmltcG9ydCBSZXNNYW5hZ2VyIGZyb20gXCIuL3Jlc21hbmFnZXIvUmVzTWFuYWdlclwiO1xuaW1wb3J0IEFzc2V0c01hbmFnZXIgZnJvbSBcIi4vcmVzbWFuYWdlci9Bc3NldHNNYW5hZ2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIC8vIE1hbmFnZXIuTW9kdWxlO1xuICAgICAgICAvLyBNYW5hZ2VyLlVJO1xuICAgICAgICAvLyBNYW5hZ2VyLkFzc2V0cztcbiAgICAgICAgLy8gTWFuYWdlci5Tb3VuZDtcbiAgICAgICAgLy8gTWFuYWdlci5SZXM7XG4gICAgfVxuICAgIC8qKiDotYTmupDliqDovb3nrqHnkIYgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBfYXNzZXRzTWFuYWdlcjogQXNzZXRzTWFuYWdlciA9IG51bGw7XG4gICAgcHVibGljIHN0YXRpYyBnZXQgQXNzZXRzKCl7XG4gICAgICAgIGlmKCF0aGlzLl9hc3NldHNNYW5hZ2VyKXtcbiAgICAgICAgICAgIHRoaXMuX2Fzc2V0c01hbmFnZXIgPSBuZXcgQXNzZXRzTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hc3NldHNNYW5hZ2VyO1xuICAgIH1cblxuICAgIC8qKiDnjqnms5XmqKHlnZfliqDovb3nrqHnkIYgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBfbW9kdWxlTWFuYWdlcjogTW9kdWxlTWFuYWdlciA9IG51bGw7XG4gICAgcHVibGljIHN0YXRpYyBnZXQgTW9kdWxlKCl7XG4gICAgICAgIGlmKCF0aGlzLl9tb2R1bGVNYW5hZ2VyKXtcbiAgICAgICAgICAgIHRoaXMuX21vZHVsZU1hbmFnZXIgPSBuZXcgTW9kdWxlTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2R1bGVNYW5hZ2VyO1xuICAgIH1cblxuICAgIC8qKiDpn7PpopHliqDovb3nrqHnkIYgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBfc291bmRNYW5hZ2VyOiBTb3VuZE1hbmFnZXIgPSBudWxsO1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IFNvdW5kKCl7XG4gICAgICAgIGlmKCF0aGlzLl9zb3VuZE1hbmFnZXIpe1xuICAgICAgICAgICAgdGhpcy5fc291bmRNYW5hZ2VyID0gbmV3IFNvdW5kTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VuZE1hbmFnZXI7XG4gICAgfVxuXG4gICAgLyoqIFVJ566h55CGICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3VpTWFuYWdlcjogVUlNYW5hZ2VyID0gbnVsbDtcbiAgICBwdWJsaWMgc3RhdGljIGdldCBVSSgpe1xuICAgICAgICBpZighdGhpcy5fdWlNYW5hZ2VyKXtcbiAgICAgICAgICAgIHRoaXMuX3VpTWFuYWdlciA9IG5ldyBVSU1hbmFnZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdWlNYW5hZ2VyO1xuICAgIH1cblxuICAgIC8qKiDotYTmupDojrflj5bnrqHnkIYgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBfcmVzTWFuYWdlcjogUmVzTWFuYWdlciA9IG51bGw7XG4gICAgcHVibGljIHN0YXRpYyBnZXQgUmVzKCl7XG4gICAgICAgIGlmKCF0aGlzLl9yZXNNYW5hZ2VyKXtcbiAgICAgICAgICAgIHRoaXMuX3Jlc01hbmFnZXIgPSBuZXcgUmVzTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNNYW5hZ2VyOyBcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBCYXNlTWFuYWdlciB7XG4gICAgYWJzdHJhY3Qgb25EZXN0cm95KCk6IHZvaWQ7XG59IiwiaW1wb3J0IEJhc2VNYW5hZ2VyIGZyb20gXCIuLi9iYXNlL0Jhc2VNYW5hZ2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZHVsZU1hbmFnZXIgZXh0ZW5kcyBCYXNlTWFuYWdlcntcbiAgICBtb2R1bGVUYWJsZSA9IFtdO1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubW9kdWxlVGFibGUgPSB0aGlzLmluaXRNb2R1bGUoKTtcbiAgICB9XG5cbiAgICBpbml0TW9kdWxlKCl7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAvLyBTY2VuZUN0cmwuZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgICAgIC8vIE1haW5VSUN0cmwuZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3koKXtcbiAgICAgICAgZm9yKGxldCBpIGluIHRoaXMubW9kdWxlVGFibGUpe1xuICAgICAgICAgICAgbGV0IG0gPSB0aGlzLm1vZHVsZVRhYmxlW2ldO1xuICAgICAgICAgICAgbS5vZmZUYXJnZXQgJiYgbS5vZmZUYXJnZXQobSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2R1bGVUYWJsZSA9IFtdO1xuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlTWFuYWdlciBmcm9tIFwiLi4vYmFzZS9CYXNlTWFuYWdlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBc3NldHNNYW5hZ2VyIGV4dGVuZHMgQmFzZU1hbmFnZXIge1xuICAgIHByaXZhdGUgX2Fzc2V0c0xpc3Q6IGFueSA9IHt9O1xuXG4gICAgLyoqIOWKoOi9vemihOWItuS9kyAqL1xuICAgIGxvYWRQcmVmYWIocGF0aDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEFzc2V0c0FzeW5jKHBhdGgpO1xuICAgIH1cblxuICAgIC8vIC8qKiDliqDovb3luKflm77niYcgKi9cbiAgICAvLyBsb2FkU3ByaXRlKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Y2MuU3ByaXRlRnJhbWU+IHtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMubG9hZEFzc2V0c0FzeW5jKHBhdGgsIGNjLlNwcml0ZUZyYW1lKTtcbiAgICAvLyB9XG5cbiAgICAvLyAvKiog5Yqg6L295Zu+6ZuGICovXG4gICAgLy8gbG9hZFNwcml0ZUF0bGFzKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Y2MuU3ByaXRlQXRsYXM+IHtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMubG9hZEFzc2V0c0FzeW5jKHBhdGgsIGNjLlNwcml0ZUF0bGFzKTtcbiAgICAvLyB9XG5cbiAgICAvLyAvKiog5Yqg6L296Z+z6aKRICovXG4gICAgLy8gbG9hZEF1ZGlvQ2xpcChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPGNjLkF1ZGlvQ2xpcD57XG4gICAgLy8gICAgIHJldHVybiB0aGlzLmxvYWRBc3NldHNBc3luYyhwYXRoLCBjYy5BdWRpb0NsaXApO1xuICAgIC8vIH1cblxuICAgIC8qKiDliqDovb3phY3nva4gKi9cbiAgICBsb2FkQ29uZmlnKHBhdGg6IHN0cmluZyk6IFByb21pc2U8YW55PntcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEFzc2V0c0FzeW5jKHBhdGgpO1xuICAgIH1cblxuICAgIGxvYWRBc3NldHNBc3luYyhwYXRoOiBzdHJpbmcsIHR5cGU/OiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmU6IEZ1bmN0aW9uLCByZWplY3Q6IEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgICAgICBsZXQgX3NlbGYgPSB0aGlzO1xuICAgICAgICAgICAgaWYoX3NlbGYuX2Fzc2V0c0xpc3RbcGF0aF0pe1xuICAgICAgICAgICAgICAgIHJlc29sdmUoX3NlbGYuX2Fzc2V0c0xpc3RbcGF0aF0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgTGF5YS5sb2FkZXIubG9hZChwYXRoLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+i1hOa6kOWKoOi9vS0tLS0+JywgcmVzKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoIXJlcyl7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfc2VsZi5fYXNzZXRzTGlzdFtwYXRoXSA9IHJlcztcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVsZWFzZVJlcyhyZXNQYXRoOiBzdHJpbmcpe1xuICAgICAgICAvLyBjYy5sb2FkZXIucmVsZWFzZVJlcyhyZXNQYXRoKTtcbiAgICAgICAgdGhpcy5fYXNzZXRzTGlzdFtyZXNQYXRoXSA9IG51bGw7XG4gICAgfVxuICAgIFxuICAgIG9uRGVzdHJveSgpe1xuICAgICAgICAvLyBmb3IobGV0IHBhdGggaW4gdGhpcy5fYXNzZXRzTGlzdCl7XG4gICAgICAgIC8vICAgICB0aGlzLnJlbGVhc2VSZXMocGF0aCk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gdGhpcy5fYXNzZXRzTGlzdCA9IHt9O1xuICAgIH1cbn1cbiIsImltcG9ydCBBc3NldHNNYW5hZ2VyIGZyb20gXCIuL0Fzc2V0c01hbmFnZXJcIjtcbmltcG9ydCBCYXNlTWFuYWdlciBmcm9tIFwiLi4vYmFzZS9CYXNlTWFuYWdlclwiO1xuaW1wb3J0IE1hbmFnZXIgZnJvbSBcIi4uL01hbmFnZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzTWFuYWdlciBleHRlbmRzIEJhc2VNYW5hZ2VyIHtcbiAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIC8qKiDojrflj5bpooTliLbkvZMsIOW5tueUn+aIkOWunuS+iyAqL1xuICAgIGdldFByZWZhYihwYXRoOiBzdHJpbmcpOiBQcm9taXNlPExheWEuU3ByaXRlPiB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRQcmVmYWIocGF0aCk7XG4gICAgfVxuXG4gICAgLy8gLyoqIOiOt+WPlumfs+mikSAqL1xuICAgIC8vIGdldEF1ZGlvKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Y2MuQXVkaW9DbGlwPiB7XG4gICAgLy8gICAgIHJldHVybiB0aGlzLl9nZXRBdWRpbyhwYXRoKTtcbiAgICAvLyB9XG5cbiAgICAvKiog6I635Y+WcmVzb3VyY2VzL3RleHR1cmVzL2RyYXcv55uu5b2V5LiL55qE6LWE5rqQICovXG4gICAgZ2V0Q29tcChuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgcGF0aCA9IFwiY29tcC9cIiArIG5hbWUgKyBcIi5wbmdcIjtcbiAgICAgICAgLy8gbGV0IGF0bGFzTmFtZSA9IFwiMC1kcmF3XCI7IC8v5rKh5pyJ5Zu+6ZuG5YiZ5Li656m6XG4gICAgICAgIHJldHVybiBwYXRoO1xuICAgIH1cblxuICAgIC8qKiDojrflj5bphY3nva4gKi9cbiAgICBnZXRNb25zdGVyQ29uZmlnKG5hbWU6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIGxldCBwYXRoID0gXCJjb25maWcvYXV0by9cIjtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENvbmZpZyhwYXRoICsgbmFtZSk7XG4gICAgfVxuXG4gICAgLy8gLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBwcml2YXRlIF9hc3NldE1ncjogQXNzZXRzTWFuYWdlciA9IE1hbmFnZXIuQXNzZXRzO1xuXG4gICAgLy8gLyoqIOiOt+WPluWbvueJh+aVo+Wbvui1hOa6kO+8jOWmguaenOiOt+WPluWksei0pe+8jOWImeS7juWbvumbhumHjOiOt+WPliAqL1xuICAgIC8vIHByaXZhdGUgX2dldFNwcml0ZShwYXRoOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgYXRsYXNOYW1lPzogc3RyaW5nKTogUHJvbWlzZTxjYy5TcHJpdGVGcmFtZT4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIC8vICAgICAgICAgLyoqIOiOt+WPluaVo+WbviAqL1xuICAgIC8vICAgICAgICAgdGhpcy5fYXNzZXRNZ3IubG9hZFNwcml0ZShwYXRoICsgbmFtZSkudGhlbigoc3BGcmFtZTogY2MuU3ByaXRlRnJhbWUpID0+IHtcbiAgICAvLyAgICAgICAgICAgICByZXNvbHZlKHNwRnJhbWUpO1xuICAgIC8vICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgIC8vICAgICAgICAgICAgIC8qKiDmsqHmlaPlm77liJnku47lm77pm4bojrflj5YgKi9cbiAgICAvLyAgICAgICAgICAgICB0aGlzLl9nZXRTcHJpdGVGcmFtZUZyb21BdGxhcyhwYXRoICsgYXRsYXNOYW1lLCBuYW1lKS50aGVuKChzcEZyYW1lOiBjYy5TcHJpdGVGcmFtZSkgPT4ge1xuICAgIC8vICAgICAgICAgICAgICAgICByZXNvbHZlKHNwRnJhbWUpO1xuICAgIC8vICAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIltSZXNNYW5hZ2VyLnRzXS0tLS0tPmFzc2V0IGlzIG5vdCBleGlzdDpcIiwgcGF0aCArIG5hbWUsIFwiLS0tPmF0bGFzIGFyZSBub3Q6XCIsIGF0bGFzTmFtZSk7XG4gICAgLy8gICAgICAgICAgICAgICAgIC8vIHRoaXMuX2Fzc2V0TWdyLnJlbGVhc2VSZXMocGF0aCArIGF0bGFzTmFtZSk7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgIC8vICAgICAgICAgICAgIH0pO1xuICAgIC8vICAgICAgICAgfSk7XG4gICAgLy8gICAgIH0pOyAgIFxuICAgIC8vIH1cblxuICAgIC8vIHByaXZhdGUgX2dldFNwcml0ZUZyYW1lRnJvbUF0bGFzKHBhdGg6IHN0cmluZywgbmFtZTogc3RyaW5nKTogUHJvbWlzZTxjYy5TcHJpdGVGcmFtZT4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIC8vICAgICAgICAgdGhpcy5fYXNzZXRNZ3IubG9hZFNwcml0ZUF0bGFzKHBhdGgpLnRoZW4oKHJlczogY2MuU3ByaXRlQXRsYXMpID0+IHtcbiAgICAvLyAgICAgICAgICAgICBsZXQgc3BGcmFtZSA9IHJlcy5nZXRTcHJpdGVGcmFtZShuYW1lKTtcbiAgICAvLyAgICAgICAgICAgICBpZihzcEZyYW1lKXtcbiAgICAvLyAgICAgICAgICAgICAgICAgcmVzb2x2ZShzcEZyYW1lKTtcbiAgICAvLyAgICAgICAgICAgICB9ZWxzZXtcbiAgICAvLyAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgIC8vICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgIC8vICAgICAgICAgfSk7XG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH1cblxuICAgIC8qKiDojrflj5bpooTliLbkvZMgKi9cbiAgICBwcml2YXRlIF9nZXRQcmVmYWIocGF0aDogc3RyaW5nKTogUHJvbWlzZTxMYXlhLlNwcml0ZT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fYXNzZXRNZ3IubG9hZFByZWZhYihwYXRoKS50aGVuKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICBpZihyZXMpe1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcy5jcmVhdGUoKSk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9nZXRDb25maWcocGF0aDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Fzc2V0TWdyLmxvYWRDb25maWcocGF0aCkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gcHJpdmF0ZSBfZ2V0QXVkaW8ocGF0aDogc3RyaW5nKTogUHJvbWlzZTxjYy5BdWRpb0NsaXA+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyAgICAgICAgIHRoaXMuX2Fzc2V0TWdyLmxvYWRBdWRpb0NsaXAocGF0aCkudGhlbigoYXVkaW86IGNjLkF1ZGlvQ2xpcCkgPT4ge1xuICAgIC8vICAgICAgICAgICAgIGlmKGF1ZGlvKXtcbiAgICAvLyAgICAgICAgICAgICAgICAgcmVzb2x2ZShhdWRpbyk7XG4gICAgLy8gICAgICAgICAgICAgfWVsc2V7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAvLyAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vICAgICB9KTtcbiAgICAvLyB9XG5cbiAgICBvbkRlc3Ryb3koKXtcblxuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlTWFuYWdlciBmcm9tIFwiLi4vYmFzZS9CYXNlTWFuYWdlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb3VuZE1hbmFnZXIgZXh0ZW5kcyBCYXNlTWFuYWdlciB7XG4gICAgcHJpdmF0ZSBfY3VycmVudDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIF9sb2FkTGlzdDogT2JqZWN0ID0ge307XG5cbiAgICBwbGF5KHBhdGg6IHN0cmluZywgbG9vcE51bTogbnVtYmVyID0gMSwgdm9sdW1lOiBudW1iZXIgPSAxKXtcbiAgICAgICAgLy8gTWFuYWdlci5SZXMuZ2V0QXVkaW8ocGF0aCkudGhlbigoYXVkaW86IGNjLkF1ZGlvQ2xpcCkgPT4ge1xuICAgICAgICAvLyAgICAgdGhpcy5fY3VycmVudCA9IGNjLmF1ZGlvRW5naW5lLnBsYXkoYXVkaW8sIGxvb3AsIHZvbHVtZSk7XG4gICAgICAgIC8vICAgICB0aGlzLl9sb2FkTGlzdFtwYXRoXSA9IGF1ZGlvO1xuICAgICAgICAvLyB9KTtcbiAgICAgICAgTGF5YS5Tb3VuZE1hbmFnZXIucGxheVNvdW5kKHBhdGgsIGxvb3BOdW0sIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKCkgPT4ge1xuXG4gICAgICAgIH0pLCAwKTtcbiAgICB9XG5cbiAgICAvLyBwYXVzZUN1cnJlbnQoKXtcbiAgICAvLyAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2UodGhpcy5fY3VycmVudCk7XG4gICAgLy8gfVxuXG4gICAgLy8gcGF1c2VBbGwoKXtcbiAgICAvLyAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2VBbGwoKTtcbiAgICAvLyB9XG5cbiAgICAvLyBzdG9wQ3VycmVudCgpe1xuICAgIC8vICAgICBjYy5hdWRpb0VuZ2luZS5zdG9wKHRoaXMuX2N1cnJlbnQpO1xuICAgIC8vIH1cblxuICAgIC8vIHN0b3BBbGwoKXtcbiAgICAvLyAgICAgY2MuYXVkaW9FbmdpbmUuc3RvcEFsbCgpO1xuICAgIC8vIH1cblxuICAgIC8vIHJlc3VtZUN1cnJlbnQoKXtcbiAgICAvLyAgICAgY2MuYXVkaW9FbmdpbmUucmVzdW1lKHRoaXMuX2N1cnJlbnQpO1xuICAgIC8vIH1cblxuICAgIC8vIHJlc3VtZUFsbCgpe1xuICAgIC8vICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWVBbGwoKTtcbiAgICAvLyB9XG5cbiAgICBvbkRlc3Ryb3koKXtcbiAgICAgICAgdGhpcy5fbG9hZExpc3QgPSB7fTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNVkNTIH0gZnJvbSBcIi4uLy4uL2NvcmUvbXZjL212Y3NcIjtcbmltcG9ydCBCYXNlTWFuYWdlciBmcm9tIFwiLi4vYmFzZS9CYXNlTWFuYWdlclwiO1xuaW1wb3J0IE1hbmFnZXIgZnJvbSBcIi4uL01hbmFnZXJcIjtcblxuY2xhc3Mgdmlld0VsZW1lbnQge1xuICAgIC8qKiDotYTmupDot6/lvoQgKi9cbiAgICBwYXRoOiBzdHJpbmc7XG4gICAgLyoqIOWxgue6pyAqL1xuICAgIHpJbmRleDogbnVtYmVyO1xuICAgIC8qKiDmiZPlvIDmlYjmnpwgKi9cbiAgICBvcGVuRWZmZWN0OiBudW1iZXI7XG4gICAgLyoqIOWunuS+i+iEmuacrCAqL1xuICAgIGluc3RhbmNlOiBNVkNTLlZpZXc7XG4gICAgLyoqIOWunuS+i+iKgueCuSAqL1xuICAgIG5vZGU6IExheWEuU3ByaXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSU1hbmFnZXIgZXh0ZW5kcyBCYXNlTWFuYWdlciB7XG4gICAgcHJpdmF0ZSBfdmlld3M6IHtba2V5OiBzdHJpbmddOiB2aWV3RWxlbWVudH0gPSB7fTtcblxuICAgIHByaXZhdGUgX3Jvb3Q6IExheWEuU3ByaXRlID0gbmV3IExheWEuU3ByaXRlKCk7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgbGV0IHcgPSBMYXlhLnN0YWdlLmRlc2lnbldpZHRoO1xuICAgICAgICBsZXQgaCA9IExheWEuc3RhZ2UuZGVzaWduSGVpZ2h0O1xuXG4gICAgICAgIHRoaXMuX3Jvb3Qud2lkdGggPSB3O1xuICAgICAgICB0aGlzLl9yb290LmhlaWdodCA9IGg7XG4gICAgICAgIHRoaXMuX3Jvb3QueCA9IDA7XG4gICAgICAgIHRoaXMuX3Jvb3QueSA9IDA7XG4gICAgICAgIHRoaXMuX3Jvb3Quek9yZGVyID0gMTtcbiAgICAgICAgbGV0IHdpZDogTGF5YS5XaWRnZXQgPSB0aGlzLl9yb290LmFkZENvbXBvbmVudChMYXlhLldpZGdldCk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVUlNYW5hZ2VyLS0tLS0+TGF5YVN0YWdlIGRlc2lnblc6IFwiLCB3LCBcIiBkZXNpZ25IOiBcIiwgaCk7XG4gICAgICAgIHdpZC5jZW50ZXJYID0gdyAvIDI7XG4gICAgICAgIHdpZC5jZW50ZXJZID0gaCAvIDI7XG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5fcm9vdCk7XG4gICAgfVxuXG4gICAgb3BlbihyZXNQYXRoOiBzdHJpbmcsIHpJbmRleD86IG51bWJlciwgb3BlbkVmZmVjdD86IG51bWJlcik6IFByb21pc2U8TGF5YS5TcHJpdGU+e1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlld3NbcmVzUGF0aF07XG4gICAgICAgICAgICBpZighdmlldyl7XG4gICAgICAgICAgICAgICAgdmlldyA9IG5ldyB2aWV3RWxlbWVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG9wZW5TdWMgPSAodmlld05vZGU6IExheWEuU3ByaXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgdmlld05vZGUuek9yZGVyID0gekluZGV4IHx8IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighdmlldy5ub2RlKXtcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVWaWV3KHJlc1BhdGgpLnRoZW4oKHZpZXdPYmo6IExheWEuU3ByaXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9wZW5TdWModmlld09iaik7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmlld09iaik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB2aWV3Lm5vZGUudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgb3BlblN1Yyh2aWV3Lm5vZGUpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUodmlldy5ub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0VmlldzxUPihyZXNQYXRoOiBzdHJpbmcpOiBQcm9taXNlPFQ+e1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGxldCB2aWV3OiBhbnkgPSB0aGlzLl92aWV3c1tyZXNQYXRoXTtcbiAgICAgICAgICAgIGlmKCF2aWV3KXtcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVWaWV3KHJlc1BhdGgpLnRoZW4oKHZpZXc6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZpZXcuaW5zdGFuY2UpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2aWV3Lmluc3RhbmNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5YWz6ZetdWlcbiAgICAgKiBAcGFyYW0gcmVzUGF0aCDot6/lvoRcbiAgICAgKiBAcGFyYW0gaXNEZWxldGUg5piv5ZCm6ZSA5q+BXG4gICAgICovXG4gICAgY2xvc2UocmVzUGF0aDogc3RyaW5nLCBpc0RlbGV0ZTogYm9vbGVhbiA9IGZhbHNlKXtcbiAgICAgICAgbGV0IHZpZXcgPSB0aGlzLl92aWV3c1tyZXNQYXRoXTtcbiAgICAgICAgY29uc29sZS5sb2codmlldywgcmVzUGF0aCk7XG4gICAgICAgIGlmKHZpZXcgJiYgdmlldy5ub2RlKXtcbiAgICAgICAgICAgIGlmKGlzRGVsZXRlKXtcbiAgICAgICAgICAgICAgICB2aWV3Lm5vZGUuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdzW3Jlc1BhdGhdID0gbnVsbDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHZpZXcubm9kZS52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVWaWV3KHJlc1BhdGg6IHN0cmluZyk6IFByb21pc2U8TGF5YS5TcHJpdGU+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW3Jlc1BhdGhdO1xuICAgICAgICAgICAgaWYoIXZpZXcpe1xuICAgICAgICAgICAgICAgIHZpZXcgPSBuZXcgdmlld0VsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBNYW5hZ2VyLlJlcy5nZXRQcmVmYWIocmVzUGF0aCkudGhlbigodmlld09iajogTGF5YS5TcHJpdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWVzID0gcmVzUGF0aC5zcGxpdChcIi9cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Jvb3QuYWRkQ2hpbGQodmlld09iaik7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcuaW5zdGFuY2UgPSB2aWV3T2JqLmdldENvbXBvbmVudChuYW1lc1tuYW1lcy5sZW5ndGggLSAxXSk7XG4gICAgICAgICAgICAgICAgICAgIHZpZXcubm9kZSA9IHZpZXdPYmo7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdzW3Jlc1BhdGhdID0gdmlldztcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2aWV3T2JqKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHJlc29sdmUodmlldy5ub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25EZXN0cm95KCl7XG4gICAgICAgIHRoaXMuX3ZpZXdzID0ge307XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVUlQYXRoIH0gZnJvbSBcIi4vdWlwYXRoL1VJUGF0aFwiO1xuaW1wb3J0IHsgQ29uZmlnUGF0aCB9IGZyb20gXCIuL2NvbmZpZ3BhdGgvQ29uZmlnUGF0aFwiO1xuaW1wb3J0IHsgQXVkaW9QYXRoIH0gZnJvbSBcIi4vYXVkaW9wYXRoL0F1ZGlvUGF0aFwiO1xuaW1wb3J0IHsgRW50aXR5UGF0aCB9IGZyb20gXCIuL2VudGl0eXBhdGgvRW50aXR5UGF0aFwiO1xuaW1wb3J0IHsgU2NlbmUzRENvbmZpZyB9IGZyb20gXCIuL2NvbmZpZ3BhdGgvU2NlbmUzRENvbmZpZ1wiO1xuXG5cbi8qKiDotYTmupDot6/lvoTor7vlj5Yocm9vdDogcmVzb3VyY2VzKSAqL1xuZXhwb3J0IG5hbWVzcGFjZSBSZXNQYXRoIHtcbiAgICBleHBvcnQgY29uc3QgdWlQYXRoID0gVUlQYXRoO1xuICAgIGV4cG9ydCBjb25zdCBlbnRpdHlQYXRoID0gRW50aXR5UGF0aDtcbiAgICBleHBvcnQgY29uc3QgY29uZmlnUGF0aCA9IENvbmZpZ1BhdGg7XG4gICAgZXhwb3J0IGNvbnN0IGF1ZGlvUGF0aCA9IEF1ZGlvUGF0aDtcbiAgICBleHBvcnQgY29uc3Qgc2NlbmUzRFBhdGggPSBTY2VuZTNEQ29uZmlnO1xufVxuIiwiZXhwb3J0IGNvbnN0IEF1ZGlvUGF0aCA9IHtcbiAgICBidG5DbGljazogXCJzb3VuZC9idG5fY2xpY2subXAzXCJcbn0iLCJleHBvcnQgY29uc3QgQ29uZmlnUGF0aCA9IHtcbiAgICBBdXRvX01vbnN0ZXIxOiBcImNvbmZpZy9hdXRvL21vbnN0ZXIxLmpzb25cIixcbn0iLCJleHBvcnQgY29uc3QgU2NlbmUzRENvbmZpZyA9IHtcclxuICAgIEdhbWVTY2VuZToge1xyXG4gICAgICAgIHBhdGg6IFwiM2QvTGF5YUV4cG9ydC9MYXlhU2NlbmVfTWFpblNjZW5lL0NvbnZlbnRpb25hbC9NYWluU2NlbmUubHNcIixcclxuICAgICAgICB6T3JkZXI6IDEsXHJcbiAgICB9LFxyXG4gICAgUm9sZToge1xyXG4gICAgICAgIHBhdGg6IFwiM2QvTGF5YUV4cG9ydC9MYXlhU2NlbmVfbW9kZWwvQ29udmVudGlvbmFsL21vZGVsLmxoXCIsXHJcbiAgICB9XHJcbn0iLCIvKiog5a6e5L2T6Lev5b6EICovXG5leHBvcnQgY29uc3QgRW50aXR5UGF0aCA9IHtcbiAgICAvKiog5oCq54mpICovXG4gICAgRW50aXR5X01vbnN0ZXI6IFwicHJlZmFicy9maWdodC9tb25zdGVyL01vbnN0ZXJcIixcbn0iLCIvKiogVUnot6/lvoQgKi9cbmV4cG9ydCBjb25zdCBVSVBhdGggPSB7XG4gICAgLyoqIOWcuuaZr1VJICovXG4gICAgVUlfU2NlbmU6IFwicHJlZmFicy9zY2VuZS9TY2VuZVZpZXdcIixcbiAgICAvKiog5Li755WM6Z2iICovXG4gICAgVUlfTWFpblVJOiBcInByZWZhYnMvVUkvbWVudS9NZW51Vmlldy5wcmVmYWJcIixcbn0iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG52YXIgUkVHOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbmV4cG9ydCBtb2R1bGUgdWkudGVzdCB7XHJcbiAgICBleHBvcnQgY2xhc3MgVGVzdFNjZW5lVUkgZXh0ZW5kcyBTY2VuZSB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcInRlc3QvVGVzdFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLnRlc3QuVGVzdFNjZW5lVUlcIixUZXN0U2NlbmVVSSk7XHJcbn1cciJdfQ==
