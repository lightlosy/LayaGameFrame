var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
const GameLaunch_1 = require("./script/GameLaunch");
const GameUI_1 = require("./script/GameUI");
const MenuView_1 = require("./script/game/menu/MenuView");
/*
* 游戏初始化配置;
*/
class GameConfig {
    constructor() { }
    static init() {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameLaunch.ts", GameLaunch_1.default);
        reg("script/GameUI.ts", GameUI_1.default);
        reg("script/game/menu/MenuView.ts", MenuView_1.default);
    }
}
GameConfig.width = 640;
GameConfig.height = 1136;
GameConfig.scaleMode = "fixedwidth";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "GameMain.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = true;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;
exports.default = GameConfig;
GameConfig.init();

},{"./script/GameLaunch":3,"./script/GameUI":4,"./script/game/menu/MenuView":5}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameConfig_1 = require("./GameConfig");
class Main {
    constructor() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    onVersionLoaded() {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    }
    onConfigLoaded() {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    }
}
//激活启动类
new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Manager_1 = require("./manager/Manager");
class GameLaunch extends Laya.Script {
    constructor() {
        super();
        this._showLog = true;
        this._managerList = [];
    }
    onAwake() {
        this._managerList.push(new Manager_1.default());
        console.log('[GameLaunch.ts]---->初始化');
        this.initScene3D();
        this.test();
    }
    test() {
        // Manager.UI.open(ResPath.uiPath.UI_MainUI, 1, 1);
    }
    initScene3D() {
        //添加3D场景
        let scene = new Laya.Scene3D();
        Laya.stage.addChild(scene);
        // var scene: Laya.Scene3D = Laya.stage.addChild(new Laya.Scene3D()) as Laya.Scene3D;
        //添加照相机
        var camera = (scene.addChild(new Laya.Camera(0, 0.1, 100)));
        camera.transform.translate(new Laya.Vector3(0, 3, 3));
        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);
        //添加方向光
        var directionLight = scene.addChild(new Laya.DirectionLight());
        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);
        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        //添加自定义模型
        var box = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1)));
        box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);
        var material = new Laya.BlinnPhongMaterial();
        Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function (tex) {
            material.albedoTexture = tex;
        }));
        box.meshRenderer.material = material;
        Laya.timer.loop(16, this, () => {
            box.transform.rotate(new Laya.Vector3(0, 120 * 0.016, 0), false, false);
        });
    }
    onDisable() {
        for (let i = 0; i < this._managerList.length; ++i) {
            this._managerList[i].onDestroy();
        }
        this._managerList = [];
    }
    showLog() {
        if (!this._showLog) {
            console.log = () => { };
            console.error = () => { };
        }
    }
}
exports.default = GameLaunch;

},{"./manager/Manager":6}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("./../ui/layaMaxUI");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
class GameUI extends layaMaxUI_1.ui.test.TestSceneUI {
    constructor() {
        super();
        //添加3D场景
        var scene = Laya.stage.addChild(new Laya.Scene3D());
        //添加照相机
        var camera = (scene.addChild(new Laya.Camera(0, 0.1, 100)));
        camera.transform.translate(new Laya.Vector3(0, 3, 3));
        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);
        //添加方向光
        var directionLight = scene.addChild(new Laya.DirectionLight());
        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);
        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        //添加自定义模型
        var box = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1)));
        box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);
        var material = new Laya.BlinnPhongMaterial();
        Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function (tex) {
            material.albedoTexture = tex;
        }));
        box.meshRenderer.material = material;
    }
}
exports.default = GameUI;

},{"./../ui/layaMaxUI":13}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Manager_1 = require("../../manager/Manager");
class MenuView extends Laya.Script {
    constructor() {
        super();
        /** @prop {name:img, tips:"整数类型示例", type:Laya.Sprite, default:null}*/
        this.img = null;
    }
    onEnable() {
    }
    onAwake() {
        console.log('[MenuView.ts]---->初始化');
        let img = this.owner.getChildByName("img");
        img.skin = Manager_1.default.Res.getComp("btn_close");
        console.log(img.skin);
    }
    onDisable() {
    }
}
exports.default = MenuView;

},{"../../manager/Manager":6}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ModuleManager_1 = require("./modulemanager/ModuleManager");
const SoundManager_1 = require("./soundmanager/SoundManager");
const UIManager_1 = require("./uimanager/UIManager");
const ResManager_1 = require("./resmanager/ResManager");
const AssetsManager_1 = require("./resmanager/AssetsManager");
class Manager {
    constructor() {
        // Manager.Module;
        // Manager.UI;
        // Manager.Assets;
        // Manager.Sound;
        // Manager.Res;
    }
    static get Assets() {
        if (!this._assetsManager) {
            this._assetsManager = new AssetsManager_1.default();
        }
        return this._assetsManager;
    }
    static get Module() {
        if (!this._moduleManager) {
            this._moduleManager = new ModuleManager_1.default();
        }
        return this._moduleManager;
    }
    static get Sound() {
        if (!this._soundManager) {
            this._soundManager = new SoundManager_1.default();
        }
        return this._soundManager;
    }
    static get UI() {
        if (!this._uiManager) {
            this._uiManager = new UIManager_1.default();
        }
        return this._uiManager;
    }
    static get Res() {
        if (!this._resManager) {
            this._resManager = new ResManager_1.default();
        }
        return this._resManager;
    }
}
/** 资源加载管理 */
Manager._assetsManager = null;
/** 玩法模块加载管理 */
Manager._moduleManager = null;
/** 音频加载管理 */
Manager._soundManager = null;
/** UI管理 */
Manager._uiManager = null;
/** 资源获取管理 */
Manager._resManager = null;
exports.default = Manager;

},{"./modulemanager/ModuleManager":8,"./resmanager/AssetsManager":9,"./resmanager/ResManager":10,"./soundmanager/SoundManager":11,"./uimanager/UIManager":12}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class BaseManager {
}
exports.default = BaseManager;

},{}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
class ModuleManager extends BaseManager_1.default {
    constructor() {
        super();
        this.moduleTable = [];
        this.moduleTable = this.initModule();
    }
    initModule() {
        return [
        // SceneCtrl.getInstance(),
        // MainUICtrl.getInstance(),
        ];
    }
    onDestroy() {
        for (let i in this.moduleTable) {
            let m = this.moduleTable[i];
            m.offTarget && m.offTarget(m);
        }
        this.moduleTable = [];
    }
}
exports.default = ModuleManager;

},{"../base/BaseManager":7}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
class AssetsManager extends BaseManager_1.default {
    constructor() {
        super(...arguments);
        this._assetsList = {};
    }
    /** 加载预制体 */
    loadPrefab(path) {
        return this.loadAssetsAsync(path);
    }
    // /** 加载帧图片 */
    // loadSprite(path: string): Promise<cc.SpriteFrame> {
    //     return this.loadAssetsAsync(path, cc.SpriteFrame);
    // }
    // /** 加载图集 */
    // loadSpriteAtlas(path: string): Promise<cc.SpriteAtlas> {
    //     return this.loadAssetsAsync(path, cc.SpriteAtlas);
    // }
    // /** 加载音频 */
    // loadAudioClip(path: string): Promise<cc.AudioClip>{
    //     return this.loadAssetsAsync(path, cc.AudioClip);
    // }
    // /** 加载配置 */
    // loadConfig(path: string): Promise<cc.JsonAsset>{
    //     return this.loadAssetsAsync(path, cc.JsonAsset);
    // }
    loadAssetsAsync(path, type) {
        return new Promise((resolve, reject) => {
            let _self = this;
            if (_self._assetsList[path]) {
                resolve(_self._assetsList[path]);
            }
            else {
                Laya.loader.load(path, Laya.Handler.create(this, (res) => {
                    console.log('资源加载---->', res);
                    if (!res) {
                        reject();
                        return;
                    }
                    _self._assetsList[path] = res;
                    resolve(res);
                }));
            }
        });
    }
    releaseRes(resPath) {
        // cc.loader.releaseRes(resPath);
        this._assetsList[resPath] = null;
    }
    onDestroy() {
        // for(let path in this._assetsList){
        //     this.releaseRes(path);
        // }
        // this._assetsList = {};
    }
}
exports.default = AssetsManager;

},{"../base/BaseManager":7}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
const Manager_1 = require("../Manager");
class ResManager extends BaseManager_1.default {
    constructor() {
        super(...arguments);
        // /** 获取配置 */
        // getMonsterConfig(name: string): Promise<cc.JsonAsset> {
        //     let path = "config/auto/";
        //     return this._getConfig(path + name);
        // }
        // //------------------------------------------------------------
        this._assetMgr = Manager_1.default.Assets;
    }
    //------------------------------------------------------------
    /** 获取预制体, 并生成实例 */
    getPrefab(path) {
        return this._getPrefab(path);
    }
    // /** 获取音频 */
    // getAudio(path: string): Promise<cc.AudioClip> {
    //     return this._getAudio(path);
    // }
    /** 获取resources/textures/draw/目录下的资源 */
    getComp(name) {
        let path = "comp/" + name + ".png";
        // let atlasName = "0-draw"; //没有图集则为空
        return path;
    }
    // /** 获取图片散图资源，如果获取失败，则从图集里获取 */
    // private _getSprite(path: string, name: string, atlasName?: string): Promise<cc.SpriteFrame> {
    //     return new Promise((resolve, reject) => {
    //         /** 获取散图 */
    //         this._assetMgr.loadSprite(path + name).then((spFrame: cc.SpriteFrame) => {
    //             resolve(spFrame);
    //         }).catch(() => {
    //             /** 没散图则从图集获取 */
    //             this._getSpriteFrameFromAtlas(path + atlasName, name).then((spFrame: cc.SpriteFrame) => {
    //                 resolve(spFrame);
    //             }).catch(() => {
    //                 console.error("[ResManager.ts]----->asset is not exist:", path + name, "--->atlas are not:", atlasName);
    //                 // this._assetMgr.releaseRes(path + atlasName);
    //                 reject();
    //             });
    //         });
    //     });   
    // }
    // private _getSpriteFrameFromAtlas(path: string, name: string): Promise<cc.SpriteFrame> {
    //     return new Promise((resolve, reject) => {
    //         this._assetMgr.loadSpriteAtlas(path).then((res: cc.SpriteAtlas) => {
    //             let spFrame = res.getSpriteFrame(name);
    //             if(spFrame){
    //                 resolve(spFrame);
    //             }else{
    //                 reject();
    //             }
    //         }).catch(() => {
    //             reject();
    //         });
    //     });
    // }
    /** 获取预制体 */
    _getPrefab(path) {
        return new Promise((resolve, reject) => {
            this._assetMgr.loadPrefab(path).then((res) => {
                if (res) {
                    resolve(res.create());
                }
                else {
                    reject();
                }
            }).catch(() => {
                reject();
            });
        });
    }
    // private _getConfig(path: string): Promise<cc.JsonAsset> {
    //     return new Promise((resolve, reject) => {
    //         this._assetMgr.loadConfig(path).then((res) => {
    //             if(res){
    //                 resolve(res.json);
    //             }else{
    //                 reject();
    //             }
    //         }).catch(() => {
    //             reject();
    //         });
    //     });
    // }
    // private _getAudio(path: string): Promise<cc.AudioClip> {
    //     return new Promise((resolve, reject) => {
    //         this._assetMgr.loadAudioClip(path).then((audio: cc.AudioClip) => {
    //             if(audio){
    //                 resolve(audio);
    //             }else{
    //                 reject();
    //             }
    //         }).catch(() => {
    //             reject();
    //         });
    //     });
    // }
    onDestroy() {
    }
}
exports.default = ResManager;

},{"../Manager":6,"../base/BaseManager":7}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
class SoundManager extends BaseManager_1.default {
    constructor() {
        super(...arguments);
        this._current = 0;
        this._loadList = {};
    }
    // play(path: string, loop: boolean = false, volume: number = 1){
    //     Manager.Res.getAudio(path).then((audio: cc.AudioClip) => {
    //         this._current = cc.audioEngine.play(audio, loop, volume);
    //         this._loadList[path] = audio;
    //     });
    // }
    // pauseCurrent(){
    //     cc.audioEngine.pause(this._current);
    // }
    // pauseAll(){
    //     cc.audioEngine.pauseAll();
    // }
    // stopCurrent(){
    //     cc.audioEngine.stop(this._current);
    // }
    // stopAll(){
    //     cc.audioEngine.stopAll();
    // }
    // resumeCurrent(){
    //     cc.audioEngine.resume(this._current);
    // }
    // resumeAll(){
    //     cc.audioEngine.resumeAll();
    // }
    onDestroy() {
        this._loadList = {};
    }
}
exports.default = SoundManager;

},{"../base/BaseManager":7}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
const Manager_1 = require("../Manager");
let w = 640;
let h = 1136;
class viewElement {
}
class UIManager extends BaseManager_1.default {
    constructor() {
        super();
        this._views = {};
        this._root = new Laya.Sprite();
        this._root.width = w;
        this._root.height = h;
        this._root.x = 0;
        this._root.y = 0;
        this._root.zOrder = 1;
        Laya.stage.addChild(this._root);
    }
    open(resPath, zIndex, openEffect) {
        return new Promise((resolve) => {
            let view = this._views[resPath];
            if (!view) {
                view = new viewElement();
            }
            let openSuc = (viewNode) => {
                viewNode.zOrder = zIndex || 0;
            };
            if (!view.node) {
                this._createView(resPath).then((viewObj) => {
                    openSuc(viewObj);
                    resolve(viewObj);
                });
            }
            else {
                view.node.visible = true;
                openSuc(view.node);
                resolve(view.node);
            }
        });
    }
    getView(resPath) {
        return new Promise((resolve) => {
            let view = this._views[resPath];
            if (!view) {
                this._createView(resPath).then((view) => {
                    resolve(view.instance);
                });
            }
            else {
                resolve(view.instance);
            }
        });
    }
    /**
     * 关闭ui
     * @param resPath 路径
     * @param isDelete 是否销毁
     */
    close(resPath, isDelete = false) {
        let view = this._views[resPath];
        console.log(view, resPath);
        if (view && view.node) {
            if (isDelete) {
                view.node.destroy();
                this._views[resPath] = null;
            }
            else {
                view.node.visible = false;
            }
        }
    }
    _createView(resPath) {
        return new Promise((resolve) => {
            let view = this._views[resPath];
            if (!view) {
                view = new viewElement();
                Manager_1.default.Res.getPrefab(resPath).then((viewObj) => {
                    let names = resPath.split("/");
                    this._root.addChild(viewObj);
                    view.instance = viewObj.getComponent(names[names.length - 1]);
                    view.node = viewObj;
                    this._views[resPath] = view;
                    resolve(viewObj);
                });
            }
            else {
                resolve(view.node);
            }
        });
    }
    onDestroy() {
        this._views = {};
    }
}
exports.default = UIManager;

},{"../Manager":6,"../base/BaseManager":7}],13:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var test;
    (function (test) {
        class TestSceneUI extends Scene {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.loadScene("test/TestScene");
            }
        }
        test.TestSceneUI = TestSceneUI;
        REG("ui.test.TestSceneUI", TestSceneUI);
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3ByaXZhdGUvdmFyL2ZvbGRlcnMvdzQvZDIxbm03dG4xX3NjMndwMTV5Zno2ODdtMDAwMGduL1QvQXBwVHJhbnNsb2NhdGlvbi8yOEQ5Qjk3RS03NjhGLTQ0MTMtQUU3My0xNDkxMkVGRERGNTgvZC9MYXlhQWlySURFX2JldGEuYXBwL0NvbnRlbnRzL1Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvc2NyaXB0L0dhbWVMYXVuY2gudHMiLCJzcmMvc2NyaXB0L0dhbWVVSS50cyIsInNyYy9zY3JpcHQvZ2FtZS9tZW51L01lbnVWaWV3LnRzIiwic3JjL3NjcmlwdC9tYW5hZ2VyL01hbmFnZXIudHMiLCJzcmMvc2NyaXB0L21hbmFnZXIvYmFzZS9CYXNlTWFuYWdlci50cyIsInNyYy9zY3JpcHQvbWFuYWdlci9tb2R1bGVtYW5hZ2VyL01vZHVsZU1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L21hbmFnZXIvcmVzbWFuYWdlci9Bc3NldHNNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9tYW5hZ2VyL3Jlc21hbmFnZXIvUmVzTWFuYWdlci50cyIsInNyYy9zY3JpcHQvbWFuYWdlci9zb3VuZG1hbmFnZXIvU291bmRNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9tYW5hZ2VyL3VpbWFuYWdlci9VSU1hbmFnZXIudHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRyxvREFBNEM7QUFDNUMsNENBQW9DO0FBQ3BDLDBEQUFrRDtBQUNsRDs7RUFFRTtBQUNGO0lBYUksZ0JBQWMsQ0FBQztJQUNmLE1BQU0sQ0FBQyxJQUFJO1FBQ1AsSUFBSSxHQUFHLEdBQWEsSUFBSSxD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TCxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCxTQUFTO1FBQ0wsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7SUFDckIsQ0FBQztDQUNKO0FBekZELDRCQXlGQzs7Ozs7QUMxR0QsSUFBTyxLQUFLLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztBQUN4QixJQUFJLEdBQUcsR0FBYSxJQUFJLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQztBQUM3QyxJQUFjLEVBQUUsQ0FTZjtBQVRELFdBQWMsRUFBRTtJQUFDLElBQUEsSUFBSSxDQVNwQjtJQVRnQixXQUFBLElBQUk7UUFDakIsaUJBQXlCLFNBQVEsS0FBSztZQUNsQyxnQkFBZSxLQUFLLEVBQUUsQ0FBQSxDQUFBLENBQUM7WUFDdkIsY0FBYztnQkFDVixLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7Z0JBQ3ZCLElBQUksQ0FBQyxTQUFTLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztZQUNyQyxDQUFDO1NBQ0o7UUFOWSxnQkFBVyxjQU12QixDQUFBO1FBQ0QsR0FBRyxDQUFDLHFCQUFxQixFQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzNDLENBQUMsRUFUZ0IsSUFBSSxHQUFKLE9BQUksS0FBSixPQUFJLFFBU3BCO0FBQUQsQ0FBQyxFQVRhLEVBQUUsR0FBRixVQUFFLEtBQUYsVUFBRSxRQVNmIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZUxhdW5jaCBmcm9tIFwiLi9zY3JpcHQvR2FtZUxhdW5jaFwiXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3NjcmlwdC9HYW1lVUlcIlxuaW1wb3J0IE1lbnVWaWV3IGZyb20gXCIuL3NjcmlwdC9nYW1lL21lbnUvTWVudVZpZXdcIlxyXG4vKlxyXG4qIOa4uOaIj+WIneWni+WMlumFjee9rjtcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZ3tcclxuICAgIHN0YXRpYyB3aWR0aDpudW1iZXI9NjQwO1xyXG4gICAgc3RhdGljIGhlaWdodDpudW1iZXI9MTEzNjtcclxuICAgIHN0YXRpYyBzY2FsZU1vZGU6c3RyaW5nPVwiZml4ZWR3aWR0aFwiO1xyXG4gICAgc3RhdGljIHNjcmVlbk1vZGU6c3RyaW5nPVwibm9uZVwiO1xyXG4gICAgc3RhdGljIGFsaWduVjpzdHJpbmc9XCJ0b3BcIjtcclxuICAgIHN0YXRpYyBhbGlnbkg6c3RyaW5nPVwibGVmdFwiO1xyXG4gICAgc3RhdGljIHN0YXJ0U2NlbmU6YW55PVwiR2FtZU1haW4uc2NlbmVcIjtcclxuICAgIHN0YXRpYyBzY2VuZVJvb3Q6c3RyaW5nPVwiXCI7XHJcbiAgICBzdGF0aWMgZGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBzdGF0OmJvb2xlYW49dHJ1ZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVMYXVuY2gudHNcIixHYW1lTGF1bmNoKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L0dhbWVVSS50c1wiLEdhbWVVSSk7XG4gICAgICAgIHJlZyhcInNjcmlwdC9nYW1lL21lbnUvTWVudVZpZXcudHNcIixNZW51Vmlldyk7XHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy5pbml0KCk7IiwiaW1wb3J0IEdhbWVDb25maWcgZnJvbSBcIi4vR2FtZUNvbmZpZ1wiO1xyXG5jbGFzcyBNYWluIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdC8v5qC55o2uSURF6K6+572u5Yid5aeL5YyW5byV5pOOXHRcdFxyXG5cdFx0aWYgKHdpbmRvd1tcIkxheWEzRFwiXSkgTGF5YTNELmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQpO1xyXG5cdFx0ZWxzZSBMYXlhLmluaXQoR2FtZUNvbmZpZy53aWR0aCwgR2FtZUNvbmZpZy5oZWlnaHQsIExheWFbXCJXZWJHTFwiXSk7XHJcblx0XHRMYXlhW1wiUGh5c2ljc1wiXSAmJiBMYXlhW1wiUGh5c2ljc1wiXS5lbmFibGUoKTtcclxuXHRcdExheWFbXCJEZWJ1Z1BhbmVsXCJdICYmIExheWFbXCJEZWJ1Z1BhbmVsXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBHYW1lQ29uZmlnLnNjYWxlTW9kZTtcclxuXHRcdExheWEuc3RhZ2Uuc2NyZWVuTW9kZSA9IEdhbWVDb25maWcuc2NyZWVuTW9kZTtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiaW1wb3J0IE1hbmFnZXIgZnJvbSBcIi4vbWFuYWdlci9NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFJlc1BhdGggfSBmcm9tIFwiLi9yZXNwYXRoL1Jlc1BhdGhcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVMYXVuY2ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBwcml2YXRlIF9zaG93TG9nOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgX21hbmFnZXJMaXN0ID0gW107XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG4gICAgXHJcbiAgICBvbkF3YWtlKCl7XHJcbiAgICAgICAgdGhpcy5fbWFuYWdlckxpc3QucHVzaChuZXcgTWFuYWdlcigpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnW0dhbWVMYXVuY2gudHNdLS0tLT7liJ3lp4vljJYnKTtcclxuICAgICAgICB0aGlzLmluaXRTY2VuZTNEKCk7XHJcbiAgICAgICAgdGhpcy50ZXN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgdGVzdCgpe1xyXG4gICAgICAgIC8vIE1hbmFnZXIuVUkub3BlbihSZXNQYXRoLnVpUGF0aC5VSV9NYWluVUksIDEsIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRTY2VuZTNEKCl7XHJcbiAgICAgICAgLy/mt7vliqAzROWcuuaZr1xyXG4gICAgICAgIGxldCBzY2VuZSA9IG5ldyBMYXlhLlNjZW5lM0QoKTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHNjZW5lKTtcclxuICAgICAgICAvLyB2YXIgc2NlbmU6IExheWEuU2NlbmUzRCA9IExheWEuc3RhZ2UuYWRkQ2hpbGQobmV3IExheWEuU2NlbmUzRCgpKSBhcyBMYXlhLlNjZW5lM0Q7XHJcblxyXG4gICAgICAgIC8v5re75Yqg54Wn55u45py6XHJcbiAgICAgICAgdmFyIGNhbWVyYTogTGF5YS5DYW1lcmEgPSAoc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuQ2FtZXJhKDAsIDAuMSwgMTAwKSkpIGFzIExheWEuQ2FtZXJhO1xyXG4gICAgICAgIGNhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgMywgMykpO1xyXG4gICAgICAgIGNhbWVyYS50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoLTMwLCAwLCAwKSwgdHJ1ZSwgZmFsc2UpO1xyXG5cclxuICAgICAgICAvL+a3u+WKoOaWueWQkeWFiVxyXG4gICAgICAgIHZhciBkaXJlY3Rpb25MaWdodDogTGF5YS5EaXJlY3Rpb25MaWdodCA9IHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkRpcmVjdGlvbkxpZ2h0KCkpIGFzIExheWEuRGlyZWN0aW9uTGlnaHQ7XHJcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQuY29sb3IgPSBuZXcgTGF5YS5WZWN0b3IzKDAuNiwgMC42LCAwLjYpO1xyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LnRyYW5zZm9ybS53b3JsZE1hdHJpeC5zZXRGb3J3YXJkKG5ldyBMYXlhLlZlY3RvcjMoMSwgLTEsIDApKTtcclxuXHJcbiAgICAgICAgLy/mt7vliqDoh6rlrprkuYnmqKHlnotcclxuICAgICAgICB2YXIgYm94OiBMYXlhLk1lc2hTcHJpdGUzRCA9IHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChMYXlhLlByaW1pdGl2ZU1lc2guY3JlYXRlQm94KDEsIDEsIDEpKSkgYXMgTGF5YS5NZXNoU3ByaXRlM0Q7XHJcbiAgICAgICAgYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygwLCA0NSwgMCksIGZhbHNlLCBmYWxzZSk7XHJcbiAgICAgICAgdmFyIG1hdGVyaWFsOiBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCgpO1xyXG5cdFx0TGF5YS5UZXh0dXJlMkQubG9hZChcInJlcy9sYXlhYm94LnBuZ1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKG51bGwsIGZ1bmN0aW9uKHRleDpMYXlhLlRleHR1cmUyRCkge1xyXG5cdFx0XHRcdG1hdGVyaWFsLmFsYmVkb1RleHR1cmUgPSB0ZXg7XHJcblx0XHR9KSk7XHJcbiAgICAgICAgYm94Lm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG4gICAgICAgIExheWEudGltZXIubG9vcCgxNiwgdGhpcywgKCkgPT4ge1xyXG4gICAgICAgICAgICBib3gudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDEyMCAqIDAuMDE2LCAwKSwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuX21hbmFnZXJMaXN0Lmxlbmd0aDsgKytpKXtcclxuICAgICAgICAgICAgdGhpcy5fbWFuYWdlckxpc3RbaV0ub25EZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX21hbmFnZXJMaXN0ID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0xvZygpe1xyXG4gICAgICAgIGlmKCF0aGlzLl9zaG93TG9nKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cgPSAoKSA9PiB7fTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvciA9ICgpID0+IHt9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbi8qKlxyXG4gKiDmnKznpLrkvovph4fnlKjpnZ7ohJrmnKznmoTmlrnlvI/lrp7njrDvvIzogIzkvb/nlKjnu6fmib/pobXpnaLln7rnsbvvvIzlrp7njrDpobXpnaLpgLvovpHjgILlnKhJREXph4zpnaLorr7nva7lnLrmma/nmoRSdW50aW1l5bGe5oCn5Y2z5Y+v5ZKM5Zy65pmv6L+b6KGM5YWz6IGUXHJcbiAqIOebuOavlOiEmuacrOaWueW8j++8jOe7p+aJv+W8j+mhtemdouexu++8jOWPr+S7peebtOaOpeS9v+eUqOmhtemdouWumuS5ieeahOWxnuaAp++8iOmAmui/h0lEReWGhXZhcuWxnuaAp+WumuS5ie+8ie+8jOavlOWmgnRoaXMudGlwTGJsbO+8jHRoaXMuc2NvcmVMYmzvvIzlhbfmnInku6PnoIHmj5DnpLrmlYjmnpxcclxuICog5bu66K6u77ya5aaC5p6c5piv6aG16Z2i57qn55qE6YC76L6R77yM6ZyA6KaB6aKR57mB6K6/6Zeu6aG16Z2i5YaF5aSa5Liq5YWD57Sg77yM5L2/55So57un5om/5byP5YaZ5rOV77yM5aaC5p6c5piv54us56uL5bCP5qih5Z2X77yM5Yqf6IO95Y2V5LiA77yM5bu66K6u55So6ISa5pys5pa55byP5a6e546w77yM5q+U5aaC5a2Q5by56ISa5pys44CCXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyB1aS50ZXN0LlRlc3RTY2VuZVVJIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblx0XHRcclxuICAgICAgICAvL+a3u+WKoDNE5Zy65pmvXHJcbiAgICAgICAgdmFyIHNjZW5lOiBMYXlhLlNjZW5lM0QgPSBMYXlhLnN0YWdlLmFkZENoaWxkKG5ldyBMYXlhLlNjZW5lM0QoKSkgYXMgTGF5YS5TY2VuZTNEO1xyXG5cclxuICAgICAgICAvL+a3u+WKoOeFp+ebuOaculxyXG4gICAgICAgIHZhciBjYW1lcmE6IExheWEuQ2FtZXJhID0gKHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkNhbWVyYSgwLCAwLjEsIDEwMCkpKSBhcyBMYXlhLkNhbWVyYTtcclxuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDMsIDMpKTtcclxuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKC0zMCwgMCwgMCksIHRydWUsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy/mt7vliqDmlrnlkJHlhYlcclxuICAgICAgICB2YXIgZGlyZWN0aW9uTGlnaHQ6IExheWEuRGlyZWN0aW9uTGlnaHQgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5EaXJlY3Rpb25MaWdodCgpKSBhcyBMYXlhLkRpcmVjdGlvbkxpZ2h0O1xyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LmNvbG9yID0gbmV3IExheWEuVmVjdG9yMygwLjYsIDAuNiwgMC42KTtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0ud29ybGRNYXRyaXguc2V0Rm9yd2FyZChuZXcgTGF5YS5WZWN0b3IzKDEsIC0xLCAwKSk7XHJcblxyXG4gICAgICAgIC8v5re75Yqg6Ieq5a6a5LmJ5qih5Z6LXHJcbiAgICAgICAgdmFyIGJveDogTGF5YS5NZXNoU3ByaXRlM0QgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZUJveCgxLCAxLCAxKSkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIGJveC50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgNDUsIDApLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgIHZhciBtYXRlcmlhbDogTGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSBuZXcgTGF5YS5CbGlublBob25nTWF0ZXJpYWwoKTtcclxuXHRcdExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvbGF5YWJveC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLCBmdW5jdGlvbih0ZXg6TGF5YS5UZXh0dXJlMkQpIHtcclxuXHRcdFx0XHRtYXRlcmlhbC5hbGJlZG9UZXh0dXJlID0gdGV4O1xyXG5cdFx0fSkpO1xyXG4gICAgICAgIGJveC5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcclxuICAgIH1cclxufSIsImltcG9ydCBNYW5hZ2VyIGZyb20gXCIuLi8uLi9tYW5hZ2VyL01hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnVWaWV3IGV4dGVuZHMgTGF5YS5TY3JpcHQge1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmltZywgdGlwczpcIuaVtOaVsOexu+Wei+ekuuS+i1wiLCB0eXBlOkxheWEuU3ByaXRlLCBkZWZhdWx0Om51bGx9Ki9cclxuICAgIHB1YmxpYyBpbWc6IExheWEuU3ByaXRlID0gbnVsbDtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7IHN1cGVyKCk7IH1cclxuICAgIFxyXG4gICAgb25FbmFibGUoKTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgb25Bd2FrZSgpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbTWVudVZpZXcudHNdLS0tLT7liJ3lp4vljJYnKTtcclxuICAgICAgICBsZXQgaW1nID0gdGhpcy5vd25lci5nZXRDaGlsZEJ5TmFtZShcImltZ1wiKSBhcyBMYXlhLkltYWdlO1xyXG4gICAgICAgIGltZy5za2luID0gTWFuYWdlci5SZXMuZ2V0Q29tcChcImJ0bl9jbG9zZVwiKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhpbWcuc2tpbik7XHJcbiAgICB9XHJcblxyXG4gICAgb25EaXNhYmxlKCk6IHZvaWQge1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IE1vZHVsZU1hbmFnZXIgZnJvbSBcIi4vbW9kdWxlbWFuYWdlci9Nb2R1bGVNYW5hZ2VyXCI7XG5pbXBvcnQgU291bmRNYW5hZ2VyIGZyb20gXCIuL3NvdW5kbWFuYWdlci9Tb3VuZE1hbmFnZXJcIjtcbmltcG9ydCBVSU1hbmFnZXIgZnJvbSBcIi4vdWltYW5hZ2VyL1VJTWFuYWdlclwiO1xuaW1wb3J0IFJlc01hbmFnZXIgZnJvbSBcIi4vcmVzbWFuYWdlci9SZXNNYW5hZ2VyXCI7XG5pbXBvcnQgQXNzZXRzTWFuYWdlciBmcm9tIFwiLi9yZXNtYW5hZ2VyL0Fzc2V0c01hbmFnZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgLy8gTWFuYWdlci5Nb2R1bGU7XG4gICAgICAgIC8vIE1hbmFnZXIuVUk7XG4gICAgICAgIC8vIE1hbmFnZXIuQXNzZXRzO1xuICAgICAgICAvLyBNYW5hZ2VyLlNvdW5kO1xuICAgICAgICAvLyBNYW5hZ2VyLlJlcztcbiAgICB9XG4gICAgLyoqIOi1hOa6kOWKoOi9veeuoeeQhiAqL1xuICAgIHByaXZhdGUgc3RhdGljIF9hc3NldHNNYW5hZ2VyOiBBc3NldHNNYW5hZ2VyID0gbnVsbDtcbiAgICBwdWJsaWMgc3RhdGljIGdldCBBc3NldHMoKXtcbiAgICAgICAgaWYoIXRoaXMuX2Fzc2V0c01hbmFnZXIpe1xuICAgICAgICAgICAgdGhpcy5fYXNzZXRzTWFuYWdlciA9IG5ldyBBc3NldHNNYW5hZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2Fzc2V0c01hbmFnZXI7XG4gICAgfVxuXG4gICAgLyoqIOeOqeazleaooeWdl+WKoOi9veeuoeeQhiAqL1xuICAgIHByaXZhdGUgc3RhdGljIF9tb2R1bGVNYW5hZ2VyOiBNb2R1bGVNYW5hZ2VyID0gbnVsbDtcbiAgICBwdWJsaWMgc3RhdGljIGdldCBNb2R1bGUoKXtcbiAgICAgICAgaWYoIXRoaXMuX21vZHVsZU1hbmFnZXIpe1xuICAgICAgICAgICAgdGhpcy5fbW9kdWxlTWFuYWdlciA9IG5ldyBNb2R1bGVNYW5hZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX21vZHVsZU1hbmFnZXI7XG4gICAgfVxuXG4gICAgLyoqIOmfs+mikeWKoOi9veeuoeeQhiAqL1xuICAgIHByaXZhdGUgc3RhdGljIF9zb3VuZE1hbmFnZXI6IFNvdW5kTWFuYWdlciA9IG51bGw7XG4gICAgcHVibGljIHN0YXRpYyBnZXQgU291bmQoKXtcbiAgICAgICAgaWYoIXRoaXMuX3NvdW5kTWFuYWdlcil7XG4gICAgICAgICAgICB0aGlzLl9zb3VuZE1hbmFnZXIgPSBuZXcgU291bmRNYW5hZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NvdW5kTWFuYWdlcjtcbiAgICB9XG5cbiAgICAvKiogVUnnrqHnkIYgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBfdWlNYW5hZ2VyOiBVSU1hbmFnZXIgPSBudWxsO1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IFVJKCl7XG4gICAgICAgIGlmKCF0aGlzLl91aU1hbmFnZXIpe1xuICAgICAgICAgICAgdGhpcy5fdWlNYW5hZ2VyID0gbmV3IFVJTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl91aU1hbmFnZXI7XG4gICAgfVxuXG4gICAgLyoqIOi1hOa6kOiOt+WPlueuoeeQhiAqL1xuICAgIHByaXZhdGUgc3RhdGljIF9yZXNNYW5hZ2VyOiBSZXNNYW5hZ2VyID0gbnVsbDtcbiAgICBwdWJsaWMgc3RhdGljIGdldCBSZXMoKXtcbiAgICAgICAgaWYoIXRoaXMuX3Jlc01hbmFnZXIpe1xuICAgICAgICAgICAgdGhpcy5fcmVzTWFuYWdlciA9IG5ldyBSZXNNYW5hZ2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jlc01hbmFnZXI7IFxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIEJhc2VNYW5hZ2VyIHtcbiAgICBhYnN0cmFjdCBvbkRlc3Ryb3koKTogdm9pZDtcbn0iLCJpbXBvcnQgQmFzZU1hbmFnZXIgZnJvbSBcIi4uL2Jhc2UvQmFzZU1hbmFnZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kdWxlTWFuYWdlciBleHRlbmRzIEJhc2VNYW5hZ2Vye1xuICAgIG1vZHVsZVRhYmxlID0gW107XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5tb2R1bGVUYWJsZSA9IHRoaXMuaW5pdE1vZHVsZSgpO1xuICAgIH1cblxuICAgIGluaXRNb2R1bGUoKXtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIC8vIFNjZW5lQ3RybC5nZXRJbnN0YW5jZSgpLFxuICAgICAgICAgICAgLy8gTWFpblVJQ3RybC5nZXRJbnN0YW5jZSgpLFxuICAgICAgICBdO1xuICAgIH1cblxuICAgIG9uRGVzdHJveSgpe1xuICAgICAgICBmb3IobGV0IGkgaW4gdGhpcy5tb2R1bGVUYWJsZSl7XG4gICAgICAgICAgICBsZXQgbSA9IHRoaXMubW9kdWxlVGFibGVbaV07XG4gICAgICAgICAgICBtLm9mZlRhcmdldCAmJiBtLm9mZlRhcmdldChtKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZHVsZVRhYmxlID0gW107XG4gICAgfVxufVxuIiwiaW1wb3J0IEJhc2VNYW5hZ2VyIGZyb20gXCIuLi9iYXNlL0Jhc2VNYW5hZ2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFzc2V0c01hbmFnZXIgZXh0ZW5kcyBCYXNlTWFuYWdlciB7XG4gICAgcHJpdmF0ZSBfYXNzZXRzTGlzdDogYW55ID0ge307XG5cbiAgICAvKiog5Yqg6L296aKE5Yi25L2TICovXG4gICAgbG9hZFByZWZhYihwYXRoOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkQXNzZXRzQXN5bmMocGF0aCk7XG4gICAgfVxuXG4gICAgLy8gLyoqIOWKoOi9veW4p+WbvueJhyAqL1xuICAgIC8vIGxvYWRTcHJpdGUocGF0aDogc3RyaW5nKTogUHJvbWlzZTxjYy5TcHJpdGVGcmFtZT4ge1xuICAgIC8vICAgICByZXR1cm4gdGhpcy5sb2FkQXNzZXRzQXN5bmMocGF0aCwgY2MuU3ByaXRlRnJhbWUpO1xuICAgIC8vIH1cblxuICAgIC8vIC8qKiDliqDovb3lm77pm4YgKi9cbiAgICAvLyBsb2FkU3ByaXRlQXRsYXMocGF0aDogc3RyaW5nKTogUHJvbWlzZTxjYy5TcHJpdGVBdGxhcz4ge1xuICAgIC8vICAgICByZXR1cm4gdGhpcy5sb2FkQXNzZXRzQXN5bmMocGF0aCwgY2MuU3ByaXRlQXRsYXMpO1xuICAgIC8vIH1cblxuICAgIC8vIC8qKiDliqDovb3pn7PpopEgKi9cbiAgICAvLyBsb2FkQXVkaW9DbGlwKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Y2MuQXVkaW9DbGlwPntcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMubG9hZEFzc2V0c0FzeW5jKHBhdGgsIGNjLkF1ZGlvQ2xpcCk7XG4gICAgLy8gfVxuXG4gICAgLy8gLyoqIOWKoOi9vemFjee9riAqL1xuICAgIC8vIGxvYWRDb25maWcocGF0aDogc3RyaW5nKTogUHJvbWlzZTxjYy5Kc29uQXNzZXQ+e1xuICAgIC8vICAgICByZXR1cm4gdGhpcy5sb2FkQXNzZXRzQXN5bmMocGF0aCwgY2MuSnNvbkFzc2V0KTtcbiAgICAvLyB9XG5cbiAgICBsb2FkQXNzZXRzQXN5bmMocGF0aDogc3RyaW5nLCB0eXBlPzogYW55KTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlOiBGdW5jdGlvbiwgcmVqZWN0OiBGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgbGV0IF9zZWxmID0gdGhpcztcbiAgICAgICAgICAgIGlmKF9zZWxmLl9hc3NldHNMaXN0W3BhdGhdKXtcbiAgICAgICAgICAgICAgICByZXNvbHZlKF9zZWxmLl9hc3NldHNMaXN0W3BhdGhdKTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIExheWEubG9hZGVyLmxvYWQocGF0aCwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCAocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfotYTmupDliqDovb0tLS0tPicsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKCFyZXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3NlbGYuX2Fzc2V0c0xpc3RbcGF0aF0gPSByZXM7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbGVhc2VSZXMocmVzUGF0aDogc3RyaW5nKXtcbiAgICAgICAgLy8gY2MubG9hZGVyLnJlbGVhc2VSZXMocmVzUGF0aCk7XG4gICAgICAgIHRoaXMuX2Fzc2V0c0xpc3RbcmVzUGF0aF0gPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICBvbkRlc3Ryb3koKXtcbiAgICAgICAgLy8gZm9yKGxldCBwYXRoIGluIHRoaXMuX2Fzc2V0c0xpc3Qpe1xuICAgICAgICAvLyAgICAgdGhpcy5yZWxlYXNlUmVzKHBhdGgpO1xuICAgICAgICAvLyB9XG4gICAgICAgIC8vIHRoaXMuX2Fzc2V0c0xpc3QgPSB7fTtcbiAgICB9XG59XG4iLCJpbXBvcnQgQXNzZXRzTWFuYWdlciBmcm9tIFwiLi9Bc3NldHNNYW5hZ2VyXCI7XG5pbXBvcnQgQmFzZU1hbmFnZXIgZnJvbSBcIi4uL2Jhc2UvQmFzZU1hbmFnZXJcIjtcbmltcG9ydCBNYW5hZ2VyIGZyb20gXCIuLi9NYW5hZ2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc01hbmFnZXIgZXh0ZW5kcyBCYXNlTWFuYWdlciB7XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKiog6I635Y+W6aKE5Yi25L2TLCDlubbnlJ/miJDlrp7kvosgKi9cbiAgICBnZXRQcmVmYWIocGF0aDogc3RyaW5nKTogUHJvbWlzZTxMYXlhLlNwcml0ZT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0UHJlZmFiKHBhdGgpO1xuICAgIH1cblxuICAgIC8vIC8qKiDojrflj5bpn7PpopEgKi9cbiAgICAvLyBnZXRBdWRpbyhwYXRoOiBzdHJpbmcpOiBQcm9taXNlPGNjLkF1ZGlvQ2xpcD4ge1xuICAgIC8vICAgICByZXR1cm4gdGhpcy5fZ2V0QXVkaW8ocGF0aCk7XG4gICAgLy8gfVxuXG4gICAgLyoqIOiOt+WPlnJlc291cmNlcy90ZXh0dXJlcy9kcmF3L+ebruW9leS4i+eahOi1hOa6kCAqL1xuICAgIGdldENvbXAobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHBhdGggPSBcImNvbXAvXCIgKyBuYW1lICsgXCIucG5nXCI7XG4gICAgICAgIC8vIGxldCBhdGxhc05hbWUgPSBcIjAtZHJhd1wiOyAvL+ayoeacieWbvumbhuWImeS4uuepulxuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG5cbiAgICAvLyAvKiog6I635Y+W6YWN572uICovXG4gICAgLy8gZ2V0TW9uc3RlckNvbmZpZyhuYW1lOiBzdHJpbmcpOiBQcm9taXNlPGNjLkpzb25Bc3NldD4ge1xuICAgIC8vICAgICBsZXQgcGF0aCA9IFwiY29uZmlnL2F1dG8vXCI7XG4gICAgLy8gICAgIHJldHVybiB0aGlzLl9nZXRDb25maWcocGF0aCArIG5hbWUpO1xuICAgIC8vIH1cblxuICAgIC8vIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgcHJpdmF0ZSBfYXNzZXRNZ3I6IEFzc2V0c01hbmFnZXIgPSBNYW5hZ2VyLkFzc2V0cztcblxuICAgIC8vIC8qKiDojrflj5blm77niYfmlaPlm77otYTmupDvvIzlpoLmnpzojrflj5blpLHotKXvvIzliJnku47lm77pm4bph4zojrflj5YgKi9cbiAgICAvLyBwcml2YXRlIF9nZXRTcHJpdGUocGF0aDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIGF0bGFzTmFtZT86IHN0cmluZyk6IFByb21pc2U8Y2MuU3ByaXRlRnJhbWU+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyAgICAgICAgIC8qKiDojrflj5bmlaPlm74gKi9cbiAgICAvLyAgICAgICAgIHRoaXMuX2Fzc2V0TWdyLmxvYWRTcHJpdGUocGF0aCArIG5hbWUpLnRoZW4oKHNwRnJhbWU6IGNjLlNwcml0ZUZyYW1lKSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgcmVzb2x2ZShzcEZyYW1lKTtcbiAgICAvLyAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAvLyAgICAgICAgICAgICAvKiog5rKh5pWj5Zu+5YiZ5LuO5Zu+6ZuG6I635Y+WICovXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5fZ2V0U3ByaXRlRnJhbWVGcm9tQXRsYXMocGF0aCArIGF0bGFzTmFtZSwgbmFtZSkudGhlbigoc3BGcmFtZTogY2MuU3ByaXRlRnJhbWUpID0+IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgcmVzb2x2ZShzcEZyYW1lKTtcbiAgICAvLyAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbUmVzTWFuYWdlci50c10tLS0tLT5hc3NldCBpcyBub3QgZXhpc3Q6XCIsIHBhdGggKyBuYW1lLCBcIi0tLT5hdGxhcyBhcmUgbm90OlwiLCBhdGxhc05hbWUpO1xuICAgIC8vICAgICAgICAgICAgICAgICAvLyB0aGlzLl9hc3NldE1nci5yZWxlYXNlUmVzKHBhdGggKyBhdGxhc05hbWUpO1xuICAgIC8vICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAvLyAgICAgICAgICAgICB9KTtcbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vICAgICB9KTsgICBcbiAgICAvLyB9XG5cbiAgICAvLyBwcml2YXRlIF9nZXRTcHJpdGVGcmFtZUZyb21BdGxhcyhwYXRoOiBzdHJpbmcsIG5hbWU6IHN0cmluZyk6IFByb21pc2U8Y2MuU3ByaXRlRnJhbWU+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyAgICAgICAgIHRoaXMuX2Fzc2V0TWdyLmxvYWRTcHJpdGVBdGxhcyhwYXRoKS50aGVuKChyZXM6IGNjLlNwcml0ZUF0bGFzKSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgbGV0IHNwRnJhbWUgPSByZXMuZ2V0U3ByaXRlRnJhbWUobmFtZSk7XG4gICAgLy8gICAgICAgICAgICAgaWYoc3BGcmFtZSl7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlc29sdmUoc3BGcmFtZSk7XG4gICAgLy8gICAgICAgICAgICAgfWVsc2V7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAvLyAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vICAgICB9KTtcbiAgICAvLyB9XG5cbiAgICAvKiog6I635Y+W6aKE5Yi25L2TICovXG4gICAgcHJpdmF0ZSBfZ2V0UHJlZmFiKHBhdGg6IHN0cmluZyk6IFByb21pc2U8TGF5YS5TcHJpdGU+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2Fzc2V0TWdyLmxvYWRQcmVmYWIocGF0aCkudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYocmVzKXtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXMuY3JlYXRlKCkpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gcHJpdmF0ZSBfZ2V0Q29uZmlnKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Y2MuSnNvbkFzc2V0PiB7XG4gICAgLy8gICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgLy8gICAgICAgICB0aGlzLl9hc3NldE1nci5sb2FkQ29uZmlnKHBhdGgpLnRoZW4oKHJlcykgPT4ge1xuICAgIC8vICAgICAgICAgICAgIGlmKHJlcyl7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlc29sdmUocmVzLmpzb24pO1xuICAgIC8vICAgICAgICAgICAgIH1lbHNle1xuICAgIC8vICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgLy8gICAgICAgICB9KTtcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfVxuXG4gICAgLy8gcHJpdmF0ZSBfZ2V0QXVkaW8ocGF0aDogc3RyaW5nKTogUHJvbWlzZTxjYy5BdWRpb0NsaXA+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAvLyAgICAgICAgIHRoaXMuX2Fzc2V0TWdyLmxvYWRBdWRpb0NsaXAocGF0aCkudGhlbigoYXVkaW86IGNjLkF1ZGlvQ2xpcCkgPT4ge1xuICAgIC8vICAgICAgICAgICAgIGlmKGF1ZGlvKXtcbiAgICAvLyAgICAgICAgICAgICAgICAgcmVzb2x2ZShhdWRpbyk7XG4gICAgLy8gICAgICAgICAgICAgfWVsc2V7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgIC8vICAgICAgICAgICAgIH1cbiAgICAvLyAgICAgICAgIH0pLmNhdGNoKCgpID0+IHtcbiAgICAvLyAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAvLyAgICAgICAgIH0pO1xuICAgIC8vICAgICB9KTtcbiAgICAvLyB9XG5cbiAgICBvbkRlc3Ryb3koKXtcblxuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlTWFuYWdlciBmcm9tIFwiLi4vYmFzZS9CYXNlTWFuYWdlclwiO1xuaW1wb3J0IE1hbmFnZXIgZnJvbSBcIi4uL01hbmFnZXJcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU291bmRNYW5hZ2VyIGV4dGVuZHMgQmFzZU1hbmFnZXIge1xuICAgIHByaXZhdGUgX2N1cnJlbnQ6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfbG9hZExpc3Q6IE9iamVjdCA9IHt9O1xuXG4gICAgLy8gcGxheShwYXRoOiBzdHJpbmcsIGxvb3A6IGJvb2xlYW4gPSBmYWxzZSwgdm9sdW1lOiBudW1iZXIgPSAxKXtcbiAgICAvLyAgICAgTWFuYWdlci5SZXMuZ2V0QXVkaW8ocGF0aCkudGhlbigoYXVkaW86IGNjLkF1ZGlvQ2xpcCkgPT4ge1xuICAgIC8vICAgICAgICAgdGhpcy5fY3VycmVudCA9IGNjLmF1ZGlvRW5naW5lLnBsYXkoYXVkaW8sIGxvb3AsIHZvbHVtZSk7XG4gICAgLy8gICAgICAgICB0aGlzLl9sb2FkTGlzdFtwYXRoXSA9IGF1ZGlvO1xuICAgIC8vICAgICB9KTtcbiAgICAvLyB9XG5cbiAgICAvLyBwYXVzZUN1cnJlbnQoKXtcbiAgICAvLyAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2UodGhpcy5fY3VycmVudCk7XG4gICAgLy8gfVxuXG4gICAgLy8gcGF1c2VBbGwoKXtcbiAgICAvLyAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2VBbGwoKTtcbiAgICAvLyB9XG5cbiAgICAvLyBzdG9wQ3VycmVudCgpe1xuICAgIC8vICAgICBjYy5hdWRpb0VuZ2luZS5zdG9wKHRoaXMuX2N1cnJlbnQpO1xuICAgIC8vIH1cblxuICAgIC8vIHN0b3BBbGwoKXtcbiAgICAvLyAgICAgY2MuYXVkaW9FbmdpbmUuc3RvcEFsbCgpO1xuICAgIC8vIH1cblxuICAgIC8vIHJlc3VtZUN1cnJlbnQoKXtcbiAgICAvLyAgICAgY2MuYXVkaW9FbmdpbmUucmVzdW1lKHRoaXMuX2N1cnJlbnQpO1xuICAgIC8vIH1cblxuICAgIC8vIHJlc3VtZUFsbCgpe1xuICAgIC8vICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWVBbGwoKTtcbiAgICAvLyB9XG5cbiAgICBvbkRlc3Ryb3koKXtcbiAgICAgICAgdGhpcy5fbG9hZExpc3QgPSB7fTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNVkNTIH0gZnJvbSBcIi4uLy4uL2NvcmUvbXZjL212Y3NcIjtcbmltcG9ydCBCYXNlTWFuYWdlciBmcm9tIFwiLi4vYmFzZS9CYXNlTWFuYWdlclwiO1xuaW1wb3J0IE1hbmFnZXIgZnJvbSBcIi4uL01hbmFnZXJcIjtcblxubGV0IHcgPSA2NDA7XG5sZXQgaCA9IDExMzY7XG5cbmNsYXNzIHZpZXdFbGVtZW50IHtcbiAgICAvKiog6LWE5rqQ6Lev5b6EICovXG4gICAgcGF0aDogc3RyaW5nO1xuICAgIC8qKiDlsYLnuqcgKi9cbiAgICB6SW5kZXg6IG51bWJlcjtcbiAgICAvKiog5omT5byA5pWI5p6cICovXG4gICAgb3BlbkVmZmVjdDogbnVtYmVyO1xuICAgIC8qKiDlrp7kvovohJrmnKwgKi9cbiAgICBpbnN0YW5jZTogTVZDUy5WaWV3O1xuICAgIC8qKiDlrp7kvovoioLngrkgKi9cbiAgICBub2RlOiBMYXlhLlNwcml0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlNYW5hZ2VyIGV4dGVuZHMgQmFzZU1hbmFnZXIge1xuICAgIHByaXZhdGUgX3ZpZXdzOiB7W2tleTogc3RyaW5nXTogdmlld0VsZW1lbnR9ID0ge307XG5cbiAgICBwcml2YXRlIF9yb290OiBMYXlhLlNwcml0ZSA9IG5ldyBMYXlhLlNwcml0ZSgpO1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX3Jvb3Qud2lkdGggPSB3O1xuICAgICAgICB0aGlzLl9yb290LmhlaWdodCA9IGg7XG4gICAgICAgIHRoaXMuX3Jvb3QueCA9IDA7XG4gICAgICAgIHRoaXMuX3Jvb3QueSA9IDA7XG4gICAgICAgIHRoaXMuX3Jvb3Quek9yZGVyID0gMTtcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLl9yb290KTtcbiAgICB9XG5cbiAgICBvcGVuKHJlc1BhdGg6IHN0cmluZywgekluZGV4PzogbnVtYmVyLCBvcGVuRWZmZWN0PzogbnVtYmVyKTogUHJvbWlzZTxMYXlhLlNwcml0ZT57XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHZpZXcgPSB0aGlzLl92aWV3c1tyZXNQYXRoXTtcbiAgICAgICAgICAgIGlmKCF2aWV3KXtcbiAgICAgICAgICAgICAgICB2aWV3ID0gbmV3IHZpZXdFbGVtZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgb3BlblN1YyA9ICh2aWV3Tm9kZTogTGF5YS5TcHJpdGUpID0+IHtcbiAgICAgICAgICAgICAgICB2aWV3Tm9kZS56T3JkZXIgPSB6SW5kZXggfHwgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCF2aWV3Lm5vZGUpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVZpZXcocmVzUGF0aCkudGhlbigodmlld09iajogTGF5YS5TcHJpdGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb3BlblN1Yyh2aWV3T2JqKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2aWV3T2JqKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHZpZXcubm9kZS52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvcGVuU3VjKHZpZXcubm9kZSk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2aWV3Lm5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRWaWV3PFQ+KHJlc1BhdGg6IHN0cmluZyk6IFByb21pc2U8VD57XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHZpZXc6IGFueSA9IHRoaXMuX3ZpZXdzW3Jlc1BhdGhdO1xuICAgICAgICAgICAgaWYoIXZpZXcpe1xuICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVZpZXcocmVzUGF0aCkudGhlbigodmlldzogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmlldy5pbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHZpZXcuaW5zdGFuY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDlhbPpl611aVxuICAgICAqIEBwYXJhbSByZXNQYXRoIOi3r+W+hFxuICAgICAqIEBwYXJhbSBpc0RlbGV0ZSDmmK/lkKbplIDmr4FcbiAgICAgKi9cbiAgICBjbG9zZShyZXNQYXRoOiBzdHJpbmcsIGlzRGVsZXRlOiBib29sZWFuID0gZmFsc2Upe1xuICAgICAgICBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW3Jlc1BhdGhdO1xuICAgICAgICBjb25zb2xlLmxvZyh2aWV3LCByZXNQYXRoKTtcbiAgICAgICAgaWYodmlldyAmJiB2aWV3Lm5vZGUpe1xuICAgICAgICAgICAgaWYoaXNEZWxldGUpe1xuICAgICAgICAgICAgICAgIHZpZXcubm9kZS5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3NbcmVzUGF0aF0gPSBudWxsO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdmlldy5ub2RlLnZpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZVZpZXcocmVzUGF0aDogc3RyaW5nKTogUHJvbWlzZTxMYXlhLlNwcml0ZT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlld3NbcmVzUGF0aF07XG4gICAgICAgICAgICBpZighdmlldyl7XG4gICAgICAgICAgICAgICAgdmlldyA9IG5ldyB2aWV3RWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIE1hbmFnZXIuUmVzLmdldFByZWZhYihyZXNQYXRoKS50aGVuKCh2aWV3T2JqOiBMYXlhLlNwcml0ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZXMgPSByZXNQYXRoLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdC5hZGRDaGlsZCh2aWV3T2JqKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5pbnN0YW5jZSA9IHZpZXdPYmouZ2V0Q29tcG9uZW50KG5hbWVzW25hbWVzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5ub2RlID0gdmlld09iajtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlld3NbcmVzUGF0aF0gPSB2aWV3O1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZpZXdPYmopO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2aWV3Lm5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3koKXtcbiAgICAgICAgdGhpcy5fdmlld3MgPSB7fTtcbiAgICB9XG59XG4iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG52YXIgUkVHOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbmV4cG9ydCBtb2R1bGUgdWkudGVzdCB7XHJcbiAgICBleHBvcnQgY2xhc3MgVGVzdFNjZW5lVUkgZXh0ZW5kcyBTY2VuZSB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcInRlc3QvVGVzdFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLnRlc3QuVGVzdFNjZW5lVUlcIixUZXN0U2NlbmVVSSk7XHJcbn1cciJdfQ==
