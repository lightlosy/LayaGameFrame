var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
const GameLaunch_1 = require("./script/GameLaunch");
const GameUI_1 = require("./script/GameUI");
/*
* 游戏初始化配置;
*/
class GameConfig {
    constructor() { }
    static init() {
        var reg = Laya.ClassUtils.regClass;
        reg("script/GameLaunch.ts", GameLaunch_1.default);
        reg("script/GameUI.ts", GameUI_1.default);
    }
}
GameConfig.width = 640;
GameConfig.height = 1136;
GameConfig.scaleMode = "fixedwidth";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "GameMain.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;
exports.default = GameConfig;
GameConfig.init();

},{"./script/GameLaunch":3,"./script/GameUI":4}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const GameConfig_1 = require("./GameConfig");
class Main {
    constructor() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    onVersionLoaded() {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    }
    onConfigLoaded() {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    }
}
//激活启动类
new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const Manager_1 = require("./manager/Manager");
class GameLaunch extends Laya.Script {
    constructor() {
        super();
        this._showLog = true;
        this._managerList = [];
    }
    onAwake() {
        this._managerList.push(new Manager_1.default());
        console.log('模块初始化---->');
        // Manager.UI.open(ResPath.uiPath.UI_MainUI, 1, 1);
        // Laya3D.init(640, 1136);
        // let scene = Laya.stage.addChild(new Laya.Scene3D());
    }
    onDisable() {
        for (let i = 0; i < this._managerList.length; ++i) {
            this._managerList[i].onDestroy();
        }
        this._managerList = [];
    }
    showLog() {
        if (!this._showLog) {
            console.log = () => { };
            console.error = () => { };
        }
    }
}
exports.default = GameLaunch;

},{"./manager/Manager":5}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const layaMaxUI_1 = require("./../ui/layaMaxUI");
/**
 * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
 * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
 * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
 */
class GameUI extends layaMaxUI_1.ui.test.TestSceneUI {
    constructor() {
        super();
        //添加3D场景
        var scene = Laya.stage.addChild(new Laya.Scene3D());
        //添加照相机
        var camera = (scene.addChild(new Laya.Camera(0, 0.1, 100)));
        camera.transform.translate(new Laya.Vector3(0, 3, 3));
        camera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);
        //添加方向光
        var directionLight = scene.addChild(new Laya.DirectionLight());
        directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);
        directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));
        //添加自定义模型
        var box = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1)));
        box.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);
        var material = new Laya.BlinnPhongMaterial();
        Laya.Texture2D.load("res/layabox.png", Laya.Handler.create(null, function (tex) {
            material.albedoTexture = tex;
        }));
        box.meshRenderer.material = material;
    }
}
exports.default = GameUI;

},{"./../ui/layaMaxUI":12}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ModuleManager_1 = require("./modulemanager/ModuleManager");
const SoundManager_1 = require("./soundmanager/SoundManager");
const UIManager_1 = require("./uimanager/UIManager");
const ResManager_1 = require("./resmanager/ResManager");
const AssetsManager_1 = require("./resmanager/AssetsManager");
class Manager {
    constructor() {
        // Manager.Module;
        // Manager.UI;
        // Manager.Assets;
        // Manager.Sound;
        // Manager.Res;
    }
    static get Assets() {
        if (!this._assetsManager) {
            this._assetsManager = new AssetsManager_1.default();
        }
        return this._assetsManager;
    }
    static get Module() {
        if (!this._moduleManager) {
            this._moduleManager = new ModuleManager_1.default();
        }
        return this._moduleManager;
    }
    static get Sound() {
        if (!this._soundManager) {
            this._soundManager = new SoundManager_1.default();
        }
        return this._soundManager;
    }
    static get UI() {
        if (!this._uiManager) {
            this._uiManager = new UIManager_1.default();
        }
        return this._uiManager;
    }
    static get Res() {
        if (!this._resManager) {
            this._resManager = new ResManager_1.default();
        }
        return this._resManager;
    }
}
/** 资源加载管理 */
Manager._assetsManager = null;
/** 玩法模块加载管理 */
Manager._moduleManager = null;
/** 音频加载管理 */
Manager._soundManager = null;
/** UI管理 */
Manager._uiManager = null;
/** 资源获取管理 */
Manager._resManager = null;
exports.default = Manager;

},{"./modulemanager/ModuleManager":7,"./resmanager/AssetsManager":8,"./resmanager/ResManager":9,"./soundmanager/SoundManager":10,"./uimanager/UIManager":11}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class BaseManager {
}
exports.default = BaseManager;

},{}],7:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
class ModuleManager extends BaseManager_1.default {
    constructor() {
        super();
        this.moduleTable = [];
        this.moduleTable = this.initModule();
    }
    initModule() {
        return [
        // SceneCtrl.getInstance(),
        // MainUICtrl.getInstance(),
        ];
    }
    onDestroy() {
        for (let i in this.moduleTable) {
            let m = this.moduleTable[i];
            m.offTarget && m.offTarget(m);
        }
        this.moduleTable = [];
    }
}
exports.default = ModuleManager;

},{"../base/BaseManager":6}],8:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
class AssetsManager extends BaseManager_1.default {
    constructor() {
        super(...arguments);
        this._assetsList = {};
    }
    /** 加载预制体 */
    loadPrefab(path) {
        return this.loadAssetsAsync(path);
    }
    // /** 加载帧图片 */
    // loadSprite(path: string): Promise<cc.SpriteFrame> {
    //     return this.loadAssetsAsync(path, cc.SpriteFrame);
    // }
    // /** 加载图集 */
    // loadSpriteAtlas(path: string): Promise<cc.SpriteAtlas> {
    //     return this.loadAssetsAsync(path, cc.SpriteAtlas);
    // }
    // /** 加载音频 */
    // loadAudioClip(path: string): Promise<cc.AudioClip>{
    //     return this.loadAssetsAsync(path, cc.AudioClip);
    // }
    // /** 加载配置 */
    // loadConfig(path: string): Promise<cc.JsonAsset>{
    //     return this.loadAssetsAsync(path, cc.JsonAsset);
    // }
    loadAssetsAsync(path, type) {
        return new Promise((resolve, reject) => {
            let _self = this;
            if (_self._assetsList[path]) {
                resolve(_self._assetsList[path]);
            }
            else {
                Laya.loader.load(path, Laya.Handler.create(this, (res) => {
                    console.log('资源加载---->', res);
                    if (!res) {
                        reject();
                        return;
                    }
                    _self._assetsList[path] = res;
                    resolve(res);
                }));
            }
        });
    }
    releaseRes(resPath) {
        // cc.loader.releaseRes(resPath);
        this._assetsList[resPath] = null;
    }
    onDestroy() {
        // for(let path in this._assetsList){
        //     this.releaseRes(path);
        // }
        // this._assetsList = {};
    }
}
exports.default = AssetsManager;

},{"../base/BaseManager":6}],9:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
const Manager_1 = require("../Manager");
class ResManager extends BaseManager_1.default {
    constructor() {
        super(...arguments);
        // /** 获取音频 */
        // getAudio(path: string): Promise<cc.AudioClip> {
        //     return this._getAudio(path);
        // }
        // /** 获取resources/textures/draw/目录下的资源 */
        // getDraw(name: string): Promise<cc.SpriteFrame> {
        //     let path = "textures/draw/";
        //     let atlasName = "0-draw"; //没有图集则为空
        //     return this._getSprite(path, name, atlasName);
        // }
        // /** 获取配置 */
        // getMonsterConfig(name: string): Promise<cc.JsonAsset> {
        //     let path = "config/auto/";
        //     return this._getConfig(path + name);
        // }
        // //------------------------------------------------------------
        this._assetMgr = Manager_1.default.Assets;
    }
    //------------------------------------------------------------
    /** 获取预制体, 并生成实例 */
    getPrefab(path) {
        return this._getPrefab(path);
    }
    // /** 获取图片散图资源，如果获取失败，则从图集里获取 */
    // private _getSprite(path: string, name: string, atlasName?: string): Promise<cc.SpriteFrame> {
    //     return new Promise((resolve, reject) => {
    //         /** 获取散图 */
    //         this._assetMgr.loadSprite(path + name).then((spFrame: cc.SpriteFrame) => {
    //             resolve(spFrame);
    //         }).catch(() => {
    //             /** 没散图则从图集获取 */
    //             this._getSpriteFrameFromAtlas(path + atlasName, name).then((spFrame: cc.SpriteFrame) => {
    //                 resolve(spFrame);
    //             }).catch(() => {
    //                 console.error("[ResManager.ts]----->asset is not exist:", path + name, "--->atlas are not:", atlasName);
    //                 // this._assetMgr.releaseRes(path + atlasName);
    //                 reject();
    //             });
    //         });
    //     });   
    // }
    // private _getSpriteFrameFromAtlas(path: string, name: string): Promise<cc.SpriteFrame> {
    //     return new Promise((resolve, reject) => {
    //         this._assetMgr.loadSpriteAtlas(path).then((res: cc.SpriteAtlas) => {
    //             let spFrame = res.getSpriteFrame(name);
    //             if(spFrame){
    //                 resolve(spFrame);
    //             }else{
    //                 reject();
    //             }
    //         }).catch(() => {
    //             reject();
    //         });
    //     });
    // }
    /** 获取预制体 */
    _getPrefab(path) {
        return new Promise((resolve, reject) => {
            this._assetMgr.loadPrefab(path).then((res) => {
                if (res) {
                    resolve(res.create());
                }
                else {
                    reject();
                }
            }).catch(() => {
                reject();
            });
        });
    }
    // private _getConfig(path: string): Promise<cc.JsonAsset> {
    //     return new Promise((resolve, reject) => {
    //         this._assetMgr.loadConfig(path).then((res) => {
    //             if(res){
    //                 resolve(res.json);
    //             }else{
    //                 reject();
    //             }
    //         }).catch(() => {
    //             reject();
    //         });
    //     });
    // }
    // private _getAudio(path: string): Promise<cc.AudioClip> {
    //     return new Promise((resolve, reject) => {
    //         this._assetMgr.loadAudioClip(path).then((audio: cc.AudioClip) => {
    //             if(audio){
    //                 resolve(audio);
    //             }else{
    //                 reject();
    //             }
    //         }).catch(() => {
    //             reject();
    //         });
    //     });
    // }
    onDestroy() {
    }
}
exports.default = ResManager;

},{"../Manager":5,"../base/BaseManager":6}],10:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
class SoundManager extends BaseManager_1.default {
    constructor() {
        super(...arguments);
        this._current = 0;
        this._loadList = {};
    }
    // play(path: string, loop: boolean = false, volume: number = 1){
    //     Manager.Res.getAudio(path).then((audio: cc.AudioClip) => {
    //         this._current = cc.audioEngine.play(audio, loop, volume);
    //         this._loadList[path] = audio;
    //     });
    // }
    // pauseCurrent(){
    //     cc.audioEngine.pause(this._current);
    // }
    // pauseAll(){
    //     cc.audioEngine.pauseAll();
    // }
    // stopCurrent(){
    //     cc.audioEngine.stop(this._current);
    // }
    // stopAll(){
    //     cc.audioEngine.stopAll();
    // }
    // resumeCurrent(){
    //     cc.audioEngine.resume(this._current);
    // }
    // resumeAll(){
    //     cc.audioEngine.resumeAll();
    // }
    onDestroy() {
        this._loadList = {};
    }
}
exports.default = SoundManager;

},{"../base/BaseManager":6}],11:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const BaseManager_1 = require("../base/BaseManager");
const Manager_1 = require("../Manager");
let w = 960;
let h = 640;
class viewElement {
}
class UIManager extends BaseManager_1.default {
    constructor() {
        super();
        this._views = {};
        this._root = new Laya.Sprite();
        Laya.stage.addChild(this._root);
        this._root.width = w;
        this._root.height = h;
        this._root.x = 0;
        this._root.y = 0;
    }
    open(resPath, zIndex, openEffect) {
        return new Promise((resolve) => {
            let view = this._views[resPath];
            if (!view) {
                view = new viewElement();
            }
            let openSuc = (viewNode) => {
                viewNode.zOrder = zIndex || 0;
            };
            if (!view.instance) {
                this._createView(resPath).then((viewObj) => {
                    openSuc(viewObj);
                    resolve(viewObj);
                });
            }
            else {
                view.instance.owner.active = true;
                openSuc(view.node);
                resolve(view.node);
            }
        });
    }
    // getView<T>(resPath: string): Promise<T>{
    //     return new Promise((resolve) => {
    //         let view: any = this._views[resPath];
    //         if(!view){
    //             this._createView(resPath).then((view: any) => {
    //                 resolve(view.instance);
    //             });
    //         }else{
    //             resolve(view.instance);
    //         }
    //     });
    // }
    close(resPath, isDelete = false) {
        let view = this._views[resPath];
        if (view && view.instance) {
            if (isDelete) {
                view.instance.owner.destroy();
                this._views[resPath] = null;
            }
            else {
                view.instance.owner.active = false;
            }
        }
    }
    _createView(resPath) {
        return new Promise((resolve) => {
            let view = this._views[resPath];
            if (!view) {
                view = new viewElement();
                Manager_1.default.Res.getPrefab(resPath).then((viewObj) => {
                    let names = resPath.split("/");
                    this._root.addChild(viewObj);
                    view.instance = viewObj.getComponent(names[names.length - 1]);
                    view.node = viewObj;
                    this._views[resPath] = view;
                    resolve(viewObj);
                });
            }
            else {
                resolve(view.node);
            }
        });
    }
    onDestroy() {
        this._views = {};
    }
}
exports.default = UIManager;

},{"../Manager":5,"../base/BaseManager":6}],12:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var Scene = Laya.Scene;
var REG = Laya.ClassUtils.regClass;
var ui;
(function (ui) {
    var test;
    (function (test) {
        class TestSceneUI extends Scene {
            constructor() { super(); }
            createChildren() {
                super.createChildren();
                this.loadScene("test/TestScene");
            }
        }
        test.TestSceneUI = TestSceneUI;
        REG("ui.test.TestSceneUI", TestSceneUI);
    })(test = ui.test || (ui.test = {}));
})(ui = exports.ui || (exports.ui = {}));

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3ByaXZhdGUvdmFyL2ZvbGRlcnMvdzQvZDIxbm03dG4xX3NjMndwMTV5Zno2ODdtMDAwMGduL1QvQXBwVHJhbnNsb2NhdGlvbi8yOEQ5Qjk3RS03NjhGLTQ0MTMtQUU3My0xNDkxMkVGRERGNTgvZC9MYXlhQWlySURFX2JldGEuYXBwL0NvbnRlbnRzL1Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLnRzIiwic3JjL01haW4udHMiLCJzcmMvc2NyaXB0L0dhbWVMYXVuY2gudHMiLCJzcmMvc2NyaXB0L0dhbWVVSS50cyIsInNyYy9zY3JpcHQvbWFuYWdlci9NYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9tYW5hZ2VyL2Jhc2UvQmFzZU1hbmFnZXIudHMiLCJzcmMvc2NyaXB0L21hbmFnZXIvbW9kdWxlbWFuYWdlci9Nb2R1bGVNYW5hZ2VyLnRzIiwic3JjL3NjcmlwdC9tYW5hZ2VyL3Jlc21hbmFnZXIvQXNzZXRzTWFuYWdlci50cyIsInNyYy9zY3JpcHQvbWFuYWdlci9yZXNtYW5hZ2VyL1Jlc01hbmFnZXIudHMiLCJzcmMvc2NyaXB0L21hbmFnZXIvc291bmRtYW5hZ2VyL1NvdW5kTWFuYWdlci50cyIsInNyYy9zY3JpcHQvbWFuYWdlci91aW1hbmFnZXIvVUlNYW5hZ2VyLnRzIiwic3JjL3VpL2xheWFNYXhVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNWQSxnR0FBZ0c7QUFDaEcsb0RBQTRDO0FBQzVDLDRDQUFvQztBQUNwQzs7RUFFRTtBQUNGO0lBYUksZ0JBQWMsQ0FBQztJQUNmLE1BQU0sQ0FBQyxJQUFJO1FBQ1AsSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLHNCQUFzQixF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Q0FBQyxDQUFDO29CQUM5RCxJQUFJLENBQUMsSUFBSSxHQUFHLE9BQU8sQ0FBQztvQkFDcEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUM7b0JBQzVCLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztnQkFDckIsQ0FBQyxDQUFDLENBQUM7YUFDTjtpQkFBSTtnQkFDRCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO2FBQ3RCO1FBQ0wsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsU0FBUztRQUNMLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBQ3JCLENBQUM7Q0FDSjtBQWxGRCw0QkFrRkM7Ozs7O0FDbkdELElBQU8sS0FBSyxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7QUFDeEIsSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7QUFDN0MsSUFBYyxFQUFFLENBU2Y7QUFURCxXQUFjLEVBQUU7SUFBQyxJQUFBLElBQUksQ0FTcEI7SUFUZ0IsV0FBQSxJQUFJO1FBQ2pCLGlCQUF5QixTQUFRLEtBQUs7WUFDbEMsZ0JBQWUsS0FBSyxFQUFFLENBQUEsQ0FBQSxDQUFDO1lBQ3ZCLGNBQWM7Z0JBQ1YsS0FBSyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUN2QixJQUFJLENBQUMsU0FBUyxDQUFDLGdCQUFnQixDQUFDLENBQUM7WUFDckMsQ0FBQztTQUNKO1FBTlksZ0JBQVcsY0FNdkIsQ0FBQTtRQUNELEdBQUcsQ0FBQyxxQkFBcUIsRUFBQyxXQUFXLENBQUMsQ0FBQztJQUMzQyxDQUFDLEVBVGdCLElBQUksR0FBSixPQUFJLEtBQUosT0FBSSxRQVNwQjtBQUFELENBQUMsRUFUYSxFQUFFLEdBQUYsVUFBRSxLQUFGLFVBQUUsUUFTZiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxuICAgIH07XHJcbn0pKCk7XHJcbihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cclxuaW1wb3J0IEdhbWVMYXVuY2ggZnJvbSBcIi4vc2NyaXB0L0dhbWVMYXVuY2hcIlxuaW1wb3J0IEdhbWVVSSBmcm9tIFwiLi9zY3JpcHQvR2FtZVVJXCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTY0MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTExMzY7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZpeGVkd2lkdGhcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cIkdhbWVNYWluLnNjZW5lXCI7XHJcbiAgICBzdGF0aWMgc2NlbmVSb290OnN0cmluZz1cIlwiO1xyXG4gICAgc3RhdGljIGRlYnVnOmJvb2xlYW49ZmFsc2U7XHJcbiAgICBzdGF0aWMgc3RhdDpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHBoeXNpY3NEZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIGV4cG9ydFNjZW5lVG9Kc29uOmJvb2xlYW49dHJ1ZTtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgc3RhdGljIGluaXQoKXtcclxuICAgICAgICB2YXIgcmVnOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZUxhdW5jaC50c1wiLEdhbWVMYXVuY2gpO1xuICAgICAgICByZWcoXCJzY3JpcHQvR2FtZVVJLnRzXCIsR2FtZVVJKTtcclxuICAgIH1cclxufVxyXG5HYW1lQ29uZmlnLmluaXQoKTsiLCJpbXBvcnQgR2FtZUNvbmZpZyBmcm9tIFwiLi9HYW1lQ29uZmlnXCI7XHJcbmNsYXNzIE1haW4ge1xyXG5cdGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0Ly/moLnmja5JREXorr7nva7liJ3lp4vljJblvJXmk45cdFx0XHJcblx0XHRpZiAod2luZG93W1wiTGF5YTNEXCJdKSBMYXlhM0QuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCk7XHJcblx0XHRlbHNlIExheWEuaW5pdChHYW1lQ29uZmlnLndpZHRoLCBHYW1lQ29uZmlnLmhlaWdodCwgTGF5YVtcIldlYkdMXCJdKTtcclxuXHRcdExheWFbXCJQaHlzaWNzXCJdICYmIExheWFbXCJQaHlzaWNzXCJdLmVuYWJsZSgpO1xyXG5cdFx0TGF5YVtcIkRlYnVnUGFuZWxcIl0gJiYgTGF5YVtcIkRlYnVnUGFuZWxcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IEdhbWVDb25maWcuc2NhbGVNb2RlO1xyXG5cdFx0TGF5YS5zdGFnZS5zY3JlZW5Nb2RlID0gR2FtZUNvbmZpZy5zY3JlZW5Nb2RlO1xyXG5cdFx0Ly/lhbzlrrnlvq7kv6HkuI3mlK/mjIHliqDovb1zY2VuZeWQjue8gOWcuuaZr1xyXG5cdFx0TGF5YS5VUkwuZXhwb3J0U2NlbmVUb0pzb24gPSBHYW1lQ29uZmlnLmV4cG9ydFNjZW5lVG9Kc29uO1xyXG5cclxuXHRcdC8v5omT5byA6LCD6K+V6Z2i5p2/77yI6YCa6L+HSURF6K6+572u6LCD6K+V5qih5byP77yM5oiW6ICFdXJs5Zyw5Z2A5aKe5YqgZGVidWc9dHJ1ZeWPguaVsO+8jOWdh+WPr+aJk+W8gOiwg+ivlemdouadv++8iVxyXG5cdFx0aWYgKEdhbWVDb25maWcuZGVidWcgfHwgTGF5YS5VdGlscy5nZXRRdWVyeVN0cmluZyhcImRlYnVnXCIpID09IFwidHJ1ZVwiKSBMYXlhLmVuYWJsZURlYnVnUGFuZWwoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyAmJiBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXSkgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0uZW5hYmxlKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5zdGF0KSBMYXlhLlN0YXQuc2hvdygpO1xyXG5cdFx0TGF5YS5hbGVydEdsb2JhbEVycm9yID0gdHJ1ZTtcclxuXHJcblx0XHQvL+a/gOa0u+i1hOa6kOeJiOacrOaOp+WItu+8jHZlcnNpb24uanNvbueUsUlEReWPkeW4g+WKn+iDveiHquWKqOeUn+aIkO+8jOWmguaenOayoeacieS5n+S4jeW9seWTjeWQjue7rea1geeoi1xyXG5cdFx0TGF5YS5SZXNvdXJjZVZlcnNpb24uZW5hYmxlKFwidmVyc2lvbi5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vblZlcnNpb25Mb2FkZWQpLCBMYXlhLlJlc291cmNlVmVyc2lvbi5GSUxFTkFNRV9WRVJTSU9OKTtcclxuXHR9XHJcblxyXG5cdG9uVmVyc2lvbkxvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5r+A5rS75aSn5bCP5Zu+5pig5bCE77yM5Yqg6L295bCP5Zu+55qE5pe25YCZ77yM5aaC5p6c5Y+R546w5bCP5Zu+5Zyo5aSn5Zu+5ZCI6ZuG6YeM6Z2i77yM5YiZ5LyY5YWI5Yqg6L295aSn5Zu+5ZCI6ZuG77yM6ICM5LiN5piv5bCP5Zu+XHJcblx0XHRMYXlhLkF0bGFzSW5mb01hbmFnZXIuZW5hYmxlKFwiZmlsZWNvbmZpZy5qc29uXCIsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgdGhpcy5vbkNvbmZpZ0xvYWRlZCkpO1xyXG5cdH1cclxuXHJcblx0b25Db25maWdMb2FkZWQoKTogdm9pZCB7XHJcblx0XHQvL+WKoOi9vUlEReaMh+WumueahOWcuuaZr1xyXG5cdFx0R2FtZUNvbmZpZy5zdGFydFNjZW5lICYmIExheWEuU2NlbmUub3BlbihHYW1lQ29uZmlnLnN0YXJ0U2NlbmUpO1xyXG5cdH1cclxufVxyXG4vL+a/gOa0u+WQr+WKqOexu1xyXG5uZXcgTWFpbigpO1xyXG4iLCJpbXBvcnQgTWFuYWdlciBmcm9tIFwiLi9tYW5hZ2VyL01hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVMYXVuY2ggZXh0ZW5kcyBMYXlhLlNjcmlwdCB7XHJcbiAgICBwcml2YXRlIF9zaG93TG9nOiBib29sZWFuID0gdHJ1ZTtcclxuICAgIHByaXZhdGUgX21hbmFnZXJMaXN0ID0gW107XHJcbiAgICBjb25zdHJ1Y3RvcigpIHsgc3VwZXIoKTsgfVxyXG4gICAgXHJcbiAgICBvbkF3YWtlKCl7XHJcbiAgICAgICAgdGhpcy5fbWFuYWdlckxpc3QucHVzaChuZXcgTWFuYWdlcigpKTtcclxuICAgICAgICBjb25zb2xlLmxvZygn5qih5Z2X5Yid5aeL5YyWLS0tLT4nKTtcclxuICAgICAgICAvLyBNYW5hZ2VyLlVJLm9wZW4oUmVzUGF0aC51aVBhdGguVUlfTWFpblVJLCAxLCAxKTtcclxuICAgICAgICAvLyBMYXlhM0QuaW5pdCg2NDAsIDExMzYpO1xyXG4gICAgICAgIC8vIGxldCBzY2VuZSA9IExheWEuc3RhZ2UuYWRkQ2hpbGQobmV3IExheWEuU2NlbmUzRCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkRpc2FibGUoKTogdm9pZCB7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHRoaXMuX21hbmFnZXJMaXN0Lmxlbmd0aDsgKytpKXtcclxuICAgICAgICAgICAgdGhpcy5fbWFuYWdlckxpc3RbaV0ub25EZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX21hbmFnZXJMaXN0ID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgc2hvd0xvZygpe1xyXG4gICAgICAgIGlmKCF0aGlzLl9zaG93TG9nKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cgPSAoKSA9PiB7fTtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvciA9ICgpID0+IHt9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IHVpIH0gZnJvbSBcIi4vLi4vdWkvbGF5YU1heFVJXCI7XHJcbi8qKlxyXG4gKiDmnKznpLrkvovph4fnlKjpnZ7ohJrmnKznmoTmlrnlvI/lrp7njrDvvIzogIzkvb/nlKjnu6fmib/pobXpnaLln7rnsbvvvIzlrp7njrDpobXpnaLpgLvovpHjgILlnKhJREXph4zpnaLorr7nva7lnLrmma/nmoRSdW50aW1l5bGe5oCn5Y2z5Y+v5ZKM5Zy65pmv6L+b6KGM5YWz6IGUXHJcbiAqIOebuOavlOiEmuacrOaWueW8j++8jOe7p+aJv+W8j+mhtemdouexu++8jOWPr+S7peebtOaOpeS9v+eUqOmhtemdouWumuS5ieeahOWxnuaAp++8iOmAmui/h0lEReWGhXZhcuWxnuaAp+WumuS5ie+8ie+8jOavlOWmgnRoaXMudGlwTGJsbO+8jHRoaXMuc2NvcmVMYmzvvIzlhbfmnInku6PnoIHmj5DnpLrmlYjmnpxcclxuICog5bu66K6u77ya5aaC5p6c5piv6aG16Z2i57qn55qE6YC76L6R77yM6ZyA6KaB6aKR57mB6K6/6Zeu6aG16Z2i5YaF5aSa5Liq5YWD57Sg77yM5L2/55So57un5om/5byP5YaZ5rOV77yM5aaC5p6c5piv54us56uL5bCP5qih5Z2X77yM5Yqf6IO95Y2V5LiA77yM5bu66K6u55So6ISa5pys5pa55byP5a6e546w77yM5q+U5aaC5a2Q5by56ISa5pys44CCXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lVUkgZXh0ZW5kcyB1aS50ZXN0LlRlc3RTY2VuZVVJIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblx0XHRcclxuICAgICAgICAvL+a3u+WKoDNE5Zy65pmvXHJcbiAgICAgICAgdmFyIHNjZW5lOiBMYXlhLlNjZW5lM0QgPSBMYXlhLnN0YWdlLmFkZENoaWxkKG5ldyBMYXlhLlNjZW5lM0QoKSkgYXMgTGF5YS5TY2VuZTNEO1xyXG5cclxuICAgICAgICAvL+a3u+WKoOeFp+ebuOaculxyXG4gICAgICAgIHZhciBjYW1lcmE6IExheWEuQ2FtZXJhID0gKHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkNhbWVyYSgwLCAwLjEsIDEwMCkpKSBhcyBMYXlhLkNhbWVyYTtcclxuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDMsIDMpKTtcclxuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKC0zMCwgMCwgMCksIHRydWUsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy/mt7vliqDmlrnlkJHlhYlcclxuICAgICAgICB2YXIgZGlyZWN0aW9uTGlnaHQ6IExheWEuRGlyZWN0aW9uTGlnaHQgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5EaXJlY3Rpb25MaWdodCgpKSBhcyBMYXlhLkRpcmVjdGlvbkxpZ2h0O1xyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LmNvbG9yID0gbmV3IExheWEuVmVjdG9yMygwLjYsIDAuNiwgMC42KTtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0ud29ybGRNYXRyaXguc2V0Rm9yd2FyZChuZXcgTGF5YS5WZWN0b3IzKDEsIC0xLCAwKSk7XHJcblxyXG4gICAgICAgIC8v5re75Yqg6Ieq5a6a5LmJ5qih5Z6LXHJcbiAgICAgICAgdmFyIGJveDogTGF5YS5NZXNoU3ByaXRlM0QgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZUJveCgxLCAxLCAxKSkpIGFzIExheWEuTWVzaFNwcml0ZTNEO1xyXG4gICAgICAgIGJveC50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoMCwgNDUsIDApLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgIHZhciBtYXRlcmlhbDogTGF5YS5CbGlublBob25nTWF0ZXJpYWwgPSBuZXcgTGF5YS5CbGlublBob25nTWF0ZXJpYWwoKTtcclxuXHRcdExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvbGF5YWJveC5wbmdcIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZShudWxsLCBmdW5jdGlvbih0ZXg6TGF5YS5UZXh0dXJlMkQpIHtcclxuXHRcdFx0XHRtYXRlcmlhbC5hbGJlZG9UZXh0dXJlID0gdGV4O1xyXG5cdFx0fSkpO1xyXG4gICAgICAgIGJveC5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcclxuICAgIH1cclxufSIsImltcG9ydCBNb2R1bGVNYW5hZ2VyIGZyb20gXCIuL21vZHVsZW1hbmFnZXIvTW9kdWxlTWFuYWdlclwiO1xuaW1wb3J0IFNvdW5kTWFuYWdlciBmcm9tIFwiLi9zb3VuZG1hbmFnZXIvU291bmRNYW5hZ2VyXCI7XG5pbXBvcnQgVUlNYW5hZ2VyIGZyb20gXCIuL3VpbWFuYWdlci9VSU1hbmFnZXJcIjtcbmltcG9ydCBSZXNNYW5hZ2VyIGZyb20gXCIuL3Jlc21hbmFnZXIvUmVzTWFuYWdlclwiO1xuaW1wb3J0IEFzc2V0c01hbmFnZXIgZnJvbSBcIi4vcmVzbWFuYWdlci9Bc3NldHNNYW5hZ2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIC8vIE1hbmFnZXIuTW9kdWxlO1xuICAgICAgICAvLyBNYW5hZ2VyLlVJO1xuICAgICAgICAvLyBNYW5hZ2VyLkFzc2V0cztcbiAgICAgICAgLy8gTWFuYWdlci5Tb3VuZDtcbiAgICAgICAgLy8gTWFuYWdlci5SZXM7XG4gICAgfVxuICAgIC8qKiDotYTmupDliqDovb3nrqHnkIYgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBfYXNzZXRzTWFuYWdlcjogQXNzZXRzTWFuYWdlciA9IG51bGw7XG4gICAgcHVibGljIHN0YXRpYyBnZXQgQXNzZXRzKCl7XG4gICAgICAgIGlmKCF0aGlzLl9hc3NldHNNYW5hZ2VyKXtcbiAgICAgICAgICAgIHRoaXMuX2Fzc2V0c01hbmFnZXIgPSBuZXcgQXNzZXRzTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hc3NldHNNYW5hZ2VyO1xuICAgIH1cblxuICAgIC8qKiDnjqnms5XmqKHlnZfliqDovb3nrqHnkIYgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBfbW9kdWxlTWFuYWdlcjogTW9kdWxlTWFuYWdlciA9IG51bGw7XG4gICAgcHVibGljIHN0YXRpYyBnZXQgTW9kdWxlKCl7XG4gICAgICAgIGlmKCF0aGlzLl9tb2R1bGVNYW5hZ2VyKXtcbiAgICAgICAgICAgIHRoaXMuX21vZHVsZU1hbmFnZXIgPSBuZXcgTW9kdWxlTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9tb2R1bGVNYW5hZ2VyO1xuICAgIH1cblxuICAgIC8qKiDpn7PpopHliqDovb3nrqHnkIYgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBfc291bmRNYW5hZ2VyOiBTb3VuZE1hbmFnZXIgPSBudWxsO1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0IFNvdW5kKCl7XG4gICAgICAgIGlmKCF0aGlzLl9zb3VuZE1hbmFnZXIpe1xuICAgICAgICAgICAgdGhpcy5fc291bmRNYW5hZ2VyID0gbmV3IFNvdW5kTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3VuZE1hbmFnZXI7XG4gICAgfVxuXG4gICAgLyoqIFVJ566h55CGICovXG4gICAgcHJpdmF0ZSBzdGF0aWMgX3VpTWFuYWdlcjogVUlNYW5hZ2VyID0gbnVsbDtcbiAgICBwdWJsaWMgc3RhdGljIGdldCBVSSgpe1xuICAgICAgICBpZighdGhpcy5fdWlNYW5hZ2VyKXtcbiAgICAgICAgICAgIHRoaXMuX3VpTWFuYWdlciA9IG5ldyBVSU1hbmFnZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdWlNYW5hZ2VyO1xuICAgIH1cblxuICAgIC8qKiDotYTmupDojrflj5bnrqHnkIYgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBfcmVzTWFuYWdlcjogUmVzTWFuYWdlciA9IG51bGw7XG4gICAgcHVibGljIHN0YXRpYyBnZXQgUmVzKCl7XG4gICAgICAgIGlmKCF0aGlzLl9yZXNNYW5hZ2VyKXtcbiAgICAgICAgICAgIHRoaXMuX3Jlc01hbmFnZXIgPSBuZXcgUmVzTWFuYWdlcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNNYW5hZ2VyOyBcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBCYXNlTWFuYWdlciB7XG4gICAgYWJzdHJhY3Qgb25EZXN0cm95KCk6IHZvaWQ7XG59IiwiaW1wb3J0IEJhc2VNYW5hZ2VyIGZyb20gXCIuLi9iYXNlL0Jhc2VNYW5hZ2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZHVsZU1hbmFnZXIgZXh0ZW5kcyBCYXNlTWFuYWdlcntcbiAgICBtb2R1bGVUYWJsZSA9IFtdO1xuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMubW9kdWxlVGFibGUgPSB0aGlzLmluaXRNb2R1bGUoKTtcbiAgICB9XG5cbiAgICBpbml0TW9kdWxlKCl7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAvLyBTY2VuZUN0cmwuZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgICAgIC8vIE1haW5VSUN0cmwuZ2V0SW5zdGFuY2UoKSxcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3koKXtcbiAgICAgICAgZm9yKGxldCBpIGluIHRoaXMubW9kdWxlVGFibGUpe1xuICAgICAgICAgICAgbGV0IG0gPSB0aGlzLm1vZHVsZVRhYmxlW2ldO1xuICAgICAgICAgICAgbS5vZmZUYXJnZXQgJiYgbS5vZmZUYXJnZXQobSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2R1bGVUYWJsZSA9IFtdO1xuICAgIH1cbn1cbiIsImltcG9ydCBCYXNlTWFuYWdlciBmcm9tIFwiLi4vYmFzZS9CYXNlTWFuYWdlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBc3NldHNNYW5hZ2VyIGV4dGVuZHMgQmFzZU1hbmFnZXIge1xuICAgIHByaXZhdGUgX2Fzc2V0c0xpc3Q6IGFueSA9IHt9O1xuXG4gICAgLyoqIOWKoOi9vemihOWItuS9kyAqL1xuICAgIGxvYWRQcmVmYWIocGF0aDogc3RyaW5nKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEFzc2V0c0FzeW5jKHBhdGgpO1xuICAgIH1cblxuICAgIC8vIC8qKiDliqDovb3luKflm77niYcgKi9cbiAgICAvLyBsb2FkU3ByaXRlKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Y2MuU3ByaXRlRnJhbWU+IHtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMubG9hZEFzc2V0c0FzeW5jKHBhdGgsIGNjLlNwcml0ZUZyYW1lKTtcbiAgICAvLyB9XG5cbiAgICAvLyAvKiog5Yqg6L295Zu+6ZuGICovXG4gICAgLy8gbG9hZFNwcml0ZUF0bGFzKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Y2MuU3ByaXRlQXRsYXM+IHtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMubG9hZEFzc2V0c0FzeW5jKHBhdGgsIGNjLlNwcml0ZUF0bGFzKTtcbiAgICAvLyB9XG5cbiAgICAvLyAvKiog5Yqg6L296Z+z6aKRICovXG4gICAgLy8gbG9hZEF1ZGlvQ2xpcChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPGNjLkF1ZGlvQ2xpcD57XG4gICAgLy8gICAgIHJldHVybiB0aGlzLmxvYWRBc3NldHNBc3luYyhwYXRoLCBjYy5BdWRpb0NsaXApO1xuICAgIC8vIH1cblxuICAgIC8vIC8qKiDliqDovb3phY3nva4gKi9cbiAgICAvLyBsb2FkQ29uZmlnKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Y2MuSnNvbkFzc2V0PntcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMubG9hZEFzc2V0c0FzeW5jKHBhdGgsIGNjLkpzb25Bc3NldCk7XG4gICAgLy8gfVxuXG4gICAgbG9hZEFzc2V0c0FzeW5jKHBhdGg6IHN0cmluZywgdHlwZT86IGFueSk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZTogRnVuY3Rpb24sIHJlamVjdDogRnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgIGxldCBfc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBpZihfc2VsZi5fYXNzZXRzTGlzdFtwYXRoXSl7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShfc2VsZi5fYXNzZXRzTGlzdFtwYXRoXSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBMYXlhLmxvYWRlci5sb2FkKHBhdGgsIExheWEuSGFuZGxlci5jcmVhdGUodGhpcywgKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn6LWE5rqQ5Yqg6L29LS0tLT4nLCByZXMpO1xuICAgICAgICAgICAgICAgICAgICBpZighcmVzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF9zZWxmLl9hc3NldHNMaXN0W3BhdGhdID0gcmVzO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZWxlYXNlUmVzKHJlc1BhdGg6IHN0cmluZyl7XG4gICAgICAgIC8vIGNjLmxvYWRlci5yZWxlYXNlUmVzKHJlc1BhdGgpO1xuICAgICAgICB0aGlzLl9hc3NldHNMaXN0W3Jlc1BhdGhdID0gbnVsbDtcbiAgICB9XG4gICAgXG4gICAgb25EZXN0cm95KCl7XG4gICAgICAgIC8vIGZvcihsZXQgcGF0aCBpbiB0aGlzLl9hc3NldHNMaXN0KXtcbiAgICAgICAgLy8gICAgIHRoaXMucmVsZWFzZVJlcyhwYXRoKTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyB0aGlzLl9hc3NldHNMaXN0ID0ge307XG4gICAgfVxufVxuIiwiaW1wb3J0IEFzc2V0c01hbmFnZXIgZnJvbSBcIi4vQXNzZXRzTWFuYWdlclwiO1xuaW1wb3J0IEJhc2VNYW5hZ2VyIGZyb20gXCIuLi9iYXNlL0Jhc2VNYW5hZ2VyXCI7XG5pbXBvcnQgTWFuYWdlciBmcm9tIFwiLi4vTWFuYWdlclwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNNYW5hZ2VyIGV4dGVuZHMgQmFzZU1hbmFnZXIge1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqIOiOt+WPlumihOWItuS9kywg5bm255Sf5oiQ5a6e5L6LICovXG4gICAgZ2V0UHJlZmFiKHBhdGg6IHN0cmluZyk6IFByb21pc2U8TGF5YS5TcHJpdGU+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFByZWZhYihwYXRoKTtcbiAgICB9XG5cbiAgICAvLyAvKiog6I635Y+W6Z+z6aKRICovXG4gICAgLy8gZ2V0QXVkaW8ocGF0aDogc3RyaW5nKTogUHJvbWlzZTxjYy5BdWRpb0NsaXA+IHtcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuX2dldEF1ZGlvKHBhdGgpO1xuICAgIC8vIH1cblxuICAgIC8vIC8qKiDojrflj5ZyZXNvdXJjZXMvdGV4dHVyZXMvZHJhdy/nm67lvZXkuIvnmoTotYTmupAgKi9cbiAgICAvLyBnZXREcmF3KG5hbWU6IHN0cmluZyk6IFByb21pc2U8Y2MuU3ByaXRlRnJhbWU+IHtcbiAgICAvLyAgICAgbGV0IHBhdGggPSBcInRleHR1cmVzL2RyYXcvXCI7XG4gICAgLy8gICAgIGxldCBhdGxhc05hbWUgPSBcIjAtZHJhd1wiOyAvL+ayoeacieWbvumbhuWImeS4uuepulxuICAgIC8vICAgICByZXR1cm4gdGhpcy5fZ2V0U3ByaXRlKHBhdGgsIG5hbWUsIGF0bGFzTmFtZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gLyoqIOiOt+WPlumFjee9riAqL1xuICAgIC8vIGdldE1vbnN0ZXJDb25maWcobmFtZTogc3RyaW5nKTogUHJvbWlzZTxjYy5Kc29uQXNzZXQ+IHtcbiAgICAvLyAgICAgbGV0IHBhdGggPSBcImNvbmZpZy9hdXRvL1wiO1xuICAgIC8vICAgICByZXR1cm4gdGhpcy5fZ2V0Q29uZmlnKHBhdGggKyBuYW1lKTtcbiAgICAvLyB9XG5cbiAgICAvLyAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIHByaXZhdGUgX2Fzc2V0TWdyOiBBc3NldHNNYW5hZ2VyID0gTWFuYWdlci5Bc3NldHM7XG5cbiAgICAvLyAvKiog6I635Y+W5Zu+54mH5pWj5Zu+6LWE5rqQ77yM5aaC5p6c6I635Y+W5aSx6LSl77yM5YiZ5LuO5Zu+6ZuG6YeM6I635Y+WICovXG4gICAgLy8gcHJpdmF0ZSBfZ2V0U3ByaXRlKHBhdGg6IHN0cmluZywgbmFtZTogc3RyaW5nLCBhdGxhc05hbWU/OiBzdHJpbmcpOiBQcm9taXNlPGNjLlNwcml0ZUZyYW1lPiB7XG4gICAgLy8gICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgLy8gICAgICAgICAvKiog6I635Y+W5pWj5Zu+ICovXG4gICAgLy8gICAgICAgICB0aGlzLl9hc3NldE1nci5sb2FkU3ByaXRlKHBhdGggKyBuYW1lKS50aGVuKChzcEZyYW1lOiBjYy5TcHJpdGVGcmFtZSkgPT4ge1xuICAgIC8vICAgICAgICAgICAgIHJlc29sdmUoc3BGcmFtZSk7XG4gICAgLy8gICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgLyoqIOayoeaVo+WbvuWImeS7juWbvumbhuiOt+WPliAqL1xuICAgIC8vICAgICAgICAgICAgIHRoaXMuX2dldFNwcml0ZUZyYW1lRnJvbUF0bGFzKHBhdGggKyBhdGxhc05hbWUsIG5hbWUpLnRoZW4oKHNwRnJhbWU6IGNjLlNwcml0ZUZyYW1lKSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlc29sdmUoc3BGcmFtZSk7XG4gICAgLy8gICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiW1Jlc01hbmFnZXIudHNdLS0tLS0+YXNzZXQgaXMgbm90IGV4aXN0OlwiLCBwYXRoICsgbmFtZSwgXCItLS0+YXRsYXMgYXJlIG5vdDpcIiwgYXRsYXNOYW1lKTtcbiAgICAvLyAgICAgICAgICAgICAgICAgLy8gdGhpcy5fYXNzZXRNZ3IucmVsZWFzZVJlcyhwYXRoICsgYXRsYXNOYW1lKTtcbiAgICAvLyAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgLy8gICAgICAgICAgICAgfSk7XG4gICAgLy8gICAgICAgICB9KTtcbiAgICAvLyAgICAgfSk7ICAgXG4gICAgLy8gfVxuXG4gICAgLy8gcHJpdmF0ZSBfZ2V0U3ByaXRlRnJhbWVGcm9tQXRsYXMocGF0aDogc3RyaW5nLCBuYW1lOiBzdHJpbmcpOiBQcm9taXNlPGNjLlNwcml0ZUZyYW1lPiB7XG4gICAgLy8gICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgLy8gICAgICAgICB0aGlzLl9hc3NldE1nci5sb2FkU3ByaXRlQXRsYXMocGF0aCkudGhlbigocmVzOiBjYy5TcHJpdGVBdGxhcykgPT4ge1xuICAgIC8vICAgICAgICAgICAgIGxldCBzcEZyYW1lID0gcmVzLmdldFNwcml0ZUZyYW1lKG5hbWUpO1xuICAgIC8vICAgICAgICAgICAgIGlmKHNwRnJhbWUpe1xuICAgIC8vICAgICAgICAgICAgICAgICByZXNvbHZlKHNwRnJhbWUpO1xuICAgIC8vICAgICAgICAgICAgIH1lbHNle1xuICAgIC8vICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgLy8gICAgICAgICB9KTtcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfVxuXG4gICAgLyoqIOiOt+WPlumihOWItuS9kyAqL1xuICAgIHByaXZhdGUgX2dldFByZWZhYihwYXRoOiBzdHJpbmcpOiBQcm9taXNlPExheWEuU3ByaXRlPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9hc3NldE1nci5sb2FkUHJlZmFiKHBhdGgpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmKHJlcyl7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzLmNyZWF0ZSgpKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIHByaXZhdGUgX2dldENvbmZpZyhwYXRoOiBzdHJpbmcpOiBQcm9taXNlPGNjLkpzb25Bc3NldD4ge1xuICAgIC8vICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIC8vICAgICAgICAgdGhpcy5fYXNzZXRNZ3IubG9hZENvbmZpZyhwYXRoKS50aGVuKChyZXMpID0+IHtcbiAgICAvLyAgICAgICAgICAgICBpZihyZXMpe1xuICAgIC8vICAgICAgICAgICAgICAgICByZXNvbHZlKHJlcy5qc29uKTtcbiAgICAvLyAgICAgICAgICAgICB9ZWxzZXtcbiAgICAvLyAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgLy8gICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgfSkuY2F0Y2goKCkgPT4ge1xuICAgIC8vICAgICAgICAgICAgIHJlamVjdCgpO1xuICAgIC8vICAgICAgICAgfSk7XG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH1cblxuICAgIC8vIHByaXZhdGUgX2dldEF1ZGlvKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Y2MuQXVkaW9DbGlwPiB7XG4gICAgLy8gICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgLy8gICAgICAgICB0aGlzLl9hc3NldE1nci5sb2FkQXVkaW9DbGlwKHBhdGgpLnRoZW4oKGF1ZGlvOiBjYy5BdWRpb0NsaXApID0+IHtcbiAgICAvLyAgICAgICAgICAgICBpZihhdWRpbyl7XG4gICAgLy8gICAgICAgICAgICAgICAgIHJlc29sdmUoYXVkaW8pO1xuICAgIC8vICAgICAgICAgICAgIH1lbHNle1xuICAgIC8vICAgICAgICAgICAgICAgICByZWplY3QoKTtcbiAgICAvLyAgICAgICAgICAgICB9XG4gICAgLy8gICAgICAgICB9KS5jYXRjaCgoKSA9PiB7XG4gICAgLy8gICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgLy8gICAgICAgICB9KTtcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfVxuXG4gICAgb25EZXN0cm95KCl7XG5cbiAgICB9XG59XG4iLCJpbXBvcnQgQmFzZU1hbmFnZXIgZnJvbSBcIi4uL2Jhc2UvQmFzZU1hbmFnZXJcIjtcbmltcG9ydCBNYW5hZ2VyIGZyb20gXCIuLi9NYW5hZ2VyXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvdW5kTWFuYWdlciBleHRlbmRzIEJhc2VNYW5hZ2VyIHtcbiAgICBwcml2YXRlIF9jdXJyZW50OiBudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX2xvYWRMaXN0OiBPYmplY3QgPSB7fTtcblxuICAgIC8vIHBsYXkocGF0aDogc3RyaW5nLCBsb29wOiBib29sZWFuID0gZmFsc2UsIHZvbHVtZTogbnVtYmVyID0gMSl7XG4gICAgLy8gICAgIE1hbmFnZXIuUmVzLmdldEF1ZGlvKHBhdGgpLnRoZW4oKGF1ZGlvOiBjYy5BdWRpb0NsaXApID0+IHtcbiAgICAvLyAgICAgICAgIHRoaXMuX2N1cnJlbnQgPSBjYy5hdWRpb0VuZ2luZS5wbGF5KGF1ZGlvLCBsb29wLCB2b2x1bWUpO1xuICAgIC8vICAgICAgICAgdGhpcy5fbG9hZExpc3RbcGF0aF0gPSBhdWRpbztcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gfVxuXG4gICAgLy8gcGF1c2VDdXJyZW50KCl7XG4gICAgLy8gICAgIGNjLmF1ZGlvRW5naW5lLnBhdXNlKHRoaXMuX2N1cnJlbnQpO1xuICAgIC8vIH1cblxuICAgIC8vIHBhdXNlQWxsKCl7XG4gICAgLy8gICAgIGNjLmF1ZGlvRW5naW5lLnBhdXNlQWxsKCk7XG4gICAgLy8gfVxuXG4gICAgLy8gc3RvcEN1cnJlbnQoKXtcbiAgICAvLyAgICAgY2MuYXVkaW9FbmdpbmUuc3RvcCh0aGlzLl9jdXJyZW50KTtcbiAgICAvLyB9XG5cbiAgICAvLyBzdG9wQWxsKCl7XG4gICAgLy8gICAgIGNjLmF1ZGlvRW5naW5lLnN0b3BBbGwoKTtcbiAgICAvLyB9XG5cbiAgICAvLyByZXN1bWVDdXJyZW50KCl7XG4gICAgLy8gICAgIGNjLmF1ZGlvRW5naW5lLnJlc3VtZSh0aGlzLl9jdXJyZW50KTtcbiAgICAvLyB9XG5cbiAgICAvLyByZXN1bWVBbGwoKXtcbiAgICAvLyAgICAgY2MuYXVkaW9FbmdpbmUucmVzdW1lQWxsKCk7XG4gICAgLy8gfVxuXG4gICAgb25EZXN0cm95KCl7XG4gICAgICAgIHRoaXMuX2xvYWRMaXN0ID0ge307XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTVZDUyB9IGZyb20gXCIuLi8uLi9jb3JlL212Yy9tdmNzXCI7XG5pbXBvcnQgQmFzZU1hbmFnZXIgZnJvbSBcIi4uL2Jhc2UvQmFzZU1hbmFnZXJcIjtcbmltcG9ydCBNYW5hZ2VyIGZyb20gXCIuLi9NYW5hZ2VyXCI7XG5cbmxldCB3ID0gOTYwO1xubGV0IGggPSA2NDA7XG5cbmNsYXNzIHZpZXdFbGVtZW50IHtcbiAgICAvKiog6LWE5rqQ6Lev5b6EICovXG4gICAgcGF0aDogc3RyaW5nO1xuICAgIC8qKiDlsYLnuqcgKi9cbiAgICB6SW5kZXg6IG51bWJlcjtcbiAgICAvKiog5omT5byA5pWI5p6cICovXG4gICAgb3BlbkVmZmVjdDogbnVtYmVyO1xuICAgIC8qKiDlrp7kvovohJrmnKwgKi9cbiAgICBpbnN0YW5jZTogTVZDUy5WaWV3O1xuICAgIC8qKiDlrp7kvovoioLngrkgKi9cbiAgICBub2RlOiBMYXlhLlNwcml0ZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlNYW5hZ2VyIGV4dGVuZHMgQmFzZU1hbmFnZXIge1xuICAgIHByaXZhdGUgX3ZpZXdzOiB7W2tleTogc3RyaW5nXTogdmlld0VsZW1lbnR9ID0ge307XG4gICAgcHJpdmF0ZSBfcm9vdDogTGF5YS5TcHJpdGUgPSBuZXcgTGF5YS5TcHJpdGUoKTtcblxuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQodGhpcy5fcm9vdCk7XG4gICAgICAgIHRoaXMuX3Jvb3Qud2lkdGggPSB3O1xuICAgICAgICB0aGlzLl9yb290LmhlaWdodCA9IGg7XG4gICAgICAgIHRoaXMuX3Jvb3QueCA9IDA7XG4gICAgICAgIHRoaXMuX3Jvb3QueSA9IDA7XG4gICAgfVxuXG4gICAgb3BlbihyZXNQYXRoOiBzdHJpbmcsIHpJbmRleD86IG51bWJlciwgb3BlbkVmZmVjdD86IG51bWJlcik6IFByb21pc2U8TGF5YS5TcHJpdGU+e1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlld3NbcmVzUGF0aF07XG4gICAgICAgICAgICBpZighdmlldyl7XG4gICAgICAgICAgICAgICAgdmlldyA9IG5ldyB2aWV3RWxlbWVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG9wZW5TdWMgPSAodmlld05vZGU6IExheWEuU3ByaXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgdmlld05vZGUuek9yZGVyID0gekluZGV4IHx8IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighdmlldy5pbnN0YW5jZSl7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlVmlldyhyZXNQYXRoKS50aGVuKCh2aWV3T2JqOiBMYXlhLlNwcml0ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvcGVuU3VjKHZpZXdPYmopO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZpZXdPYmopO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdmlldy5pbnN0YW5jZS5vd25lci5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG9wZW5TdWModmlldy5ub2RlKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHZpZXcubm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIGdldFZpZXc8VD4ocmVzUGF0aDogc3RyaW5nKTogUHJvbWlzZTxUPntcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgLy8gICAgICAgICBsZXQgdmlldzogYW55ID0gdGhpcy5fdmlld3NbcmVzUGF0aF07XG4gICAgLy8gICAgICAgICBpZighdmlldyl7XG4gICAgLy8gICAgICAgICAgICAgdGhpcy5fY3JlYXRlVmlldyhyZXNQYXRoKS50aGVuKCh2aWV3OiBhbnkpID0+IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2aWV3Lmluc3RhbmNlKTtcbiAgICAvLyAgICAgICAgICAgICB9KTtcbiAgICAvLyAgICAgICAgIH1lbHNle1xuICAgIC8vICAgICAgICAgICAgIHJlc29sdmUodmlldy5pbnN0YW5jZSk7XG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pO1xuICAgIC8vIH1cblxuICAgIGNsb3NlKHJlc1BhdGg6IHN0cmluZywgaXNEZWxldGU6IGJvb2xlYW4gPSBmYWxzZSl7XG4gICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlld3NbcmVzUGF0aF07XG4gICAgICAgIGlmKHZpZXcgJiYgdmlldy5pbnN0YW5jZSl7XG4gICAgICAgICAgICBpZihpc0RlbGV0ZSl7XG4gICAgICAgICAgICAgICAgdmlldy5pbnN0YW5jZS5vd25lci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld3NbcmVzUGF0aF0gPSBudWxsO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdmlldy5pbnN0YW5jZS5vd25lci5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgX2NyZWF0ZVZpZXcocmVzUGF0aDogc3RyaW5nKTogUHJvbWlzZTxMYXlhLlNwcml0ZT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlld3NbcmVzUGF0aF07XG4gICAgICAgICAgICBpZighdmlldyl7XG4gICAgICAgICAgICAgICAgdmlldyA9IG5ldyB2aWV3RWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIE1hbmFnZXIuUmVzLmdldFByZWZhYihyZXNQYXRoKS50aGVuKCh2aWV3T2JqOiBMYXlhLlNwcml0ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZXMgPSByZXNQYXRoLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcm9vdC5hZGRDaGlsZCh2aWV3T2JqKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5pbnN0YW5jZSA9IHZpZXdPYmouZ2V0Q29tcG9uZW50KG5hbWVzW25hbWVzLmxlbmd0aCAtIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgdmlldy5ub2RlID0gdmlld09iajtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlld3NbcmVzUGF0aF0gPSB2aWV3O1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZpZXdPYmopO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2aWV3Lm5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3koKXtcbiAgICAgICAgdGhpcy5fdmlld3MgPSB7fTtcbiAgICB9XG59XG4iLCIvKipUaGlzIGNsYXNzIGlzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGJ5IExheWFBaXJJREUsIHBsZWFzZSBkbyBub3QgbWFrZSBhbnkgbW9kaWZpY2F0aW9ucy4gKi9cbmltcG9ydCBWaWV3PUxheWEuVmlldztcclxuaW1wb3J0IERpYWxvZz1MYXlhLkRpYWxvZztcclxuaW1wb3J0IFNjZW5lPUxheWEuU2NlbmU7XG52YXIgUkVHOiBGdW5jdGlvbiA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcbmV4cG9ydCBtb2R1bGUgdWkudGVzdCB7XHJcbiAgICBleHBvcnQgY2xhc3MgVGVzdFNjZW5lVUkgZXh0ZW5kcyBTY2VuZSB7XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmxvYWRTY2VuZShcInRlc3QvVGVzdFNjZW5lXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFJFRyhcInVpLnRlc3QuVGVzdFNjZW5lVUlcIixUZXN0U2NlbmVVSSk7XHJcbn1cciJdfQ==
